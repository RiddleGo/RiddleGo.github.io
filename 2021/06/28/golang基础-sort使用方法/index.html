<!DOCTYPE html>
<html>

	<head>
		
<title>golang基础-sort使用方法-Quiet</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" type="image/x-icon" href="/image/favicon.ico">


<meta name="keywords" content="golang,数据结构,sort排序,">
<meta name="description" content="">


<script src="/js/jquery.min.js"></script>


	<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="RiddleGo" type="application/atom+xml">
</head>

	<body>
		
<link rel="stylesheet" href="/css/page.css">


<link rel="stylesheet" href="/css/page_cente.css">


<link rel="stylesheet" href="/css/atom-one-dark.css">


<link rel="stylesheet" href="/css/header.css">

	<div class="header">
		<div class="header-top">
			<div class="h-left">
				<a href="/">
					<img src="/image/logo.png" alt="Quiet">
				</a>
			</div>
			<div class="h-right">
				<ul>
					
						
								<li>
									<a href="/">
										HOME
									</a>
									<span class="dot"></span>
								</li>
								
									
						
								<li>
									<a href="/archives">
										ARCHIVE
									</a>
									<span class="dot"></span>
								</li>
								
									
						
								<li>
									<a href="/categories">
										CATEGORIES
									</a>
									<span class="dot"></span>
								</li>
								
									
						
								<li>
									<a href="/tags">
										TAGS
									</a>
									<span class="dot"></span>
								</li>
								
									
						
								<li>
									<a href="/links">
										LINKS
									</a>
									<span class="dot"></span>
								</li>
								
									
						
								<li>
									<a href="/about">
										ABOUT
									</a>
									<span class="dot"></span>
								</li>
								
									
				</ul>
			</div>
			<div class="h-right-close">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
					<path fill="none" d="M0 0h24v24H0z" />
					<path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z" fill="rgba(68,68,68,1)" />
				</svg>
			</div>
		</div>
	</div>
	<div class="sidebar">
    <div class="topo">
        <h2>CHANGEQ</h2>
    </div>
    <ul>
        
        <li>
            <a href="/">HOME</a>
        </li>
        
        <li>
            <a href="/archives">ARCHIVE</a>
        </li>
        
        <li>
            <a href="/categories">CATEGORIES</a>
        </li>
        
        <li>
            <a href="/tags">TAGS</a>
        </li>
        
        <li>
            <a href="/links">LINKS</a>
        </li>
        
        <li>
            <a href="/about">ABOUT</a>
        </li>
        
    </ul>
    <div class="my_foot">
        
        <a target="_blank" rel="noopener" href="https://github.com/qiaobug">
            <img src="https://cdn.jsdelivr.net/gh/duogongneng/MyBlogImg/imggithub.png" alt="Quiet主题">
        </a>
        
    </div>
</div>
<div class='shelter'
    style='cursor: pointer;display: none; position: fixed;left: 0;top: 0; right: 0;bottom: 0;background-color: #333;opacity:0.5;z-index: 108;'>
</div>
<style>
    .sidebar {
        width: 0;
        height: 100%;
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
        background: #fff;
        z-index: 999;
        text-align: center;
        box-shadow: -6px 0 20px rgba(98, 94, 94, .815)
    }

    .topo {
        width: 100%;
        height: 200px;
        background: url(https://api.ixiaowai.cn/gqapi/gqapi.php) no-repeat;
        background-size: 100% 100%;
        position: relative;
        display: flex;
        align-items: flex-end
    }

    .topo h2 {
        color: #fff;
        z-index: 1;
        position: relative;
        margin: 0 0 10px 10px;
        font-size: 1.2em;
        box-sizing: border-box
    }

    .topo:before {
        content: '';
        background-image: url(/image/pattern.png);
        background-repeat: repeat;
        height: 100%;
        left: 0;
        position: absolute;
        top: 0;
        width: 100%;
        z-index: 1
    }

    .sidebar ul {
        width: 100%;
        margin-top: 50px
    }

    .sidebar ul li {
        height: 50px;
        list-style: none;
        font-size: 1.2em;
        text-align: right;
        margin-right: 10px
    }

    .sidebar ul li a {
        display: grid;
        color: #5d606a;
        text-overflow: ellipsis;
        width: 100%;
        text-decoration: none
    }

    .my_foot {
        width: 100%;
        padding: 10px;
        margin-bottom: 10px;
        position: absolute;
        bottom: 0
    }

    .my_foot a {
        text-decoration: none;
        margin-right: 10px;
        display: inline-block
    }

    .my_foot a img {
        width: 30px;
        height: 30px
    }
</style>

<script>
    $(function () { $('.h-right-close>svg').click(function () { $('.sidebar').animate({ width: "66%" }, 500); $('.shelter').fadeIn("slow") }); $('.shelter').click(function (e) { $('.sidebar').animate({ width: "0" }, 500); $('.shelter').fadeOut("slow") }) })
</script>
		<script>
			$(function () { $(window).scroll(function () { if ($(document).scrollTop() > 100) { $(".header-top").removeClass("header-move2"); $('.header-top').addClass('header-move1') } else { $(".header-top").removeClass("header-move1"); $('.header-top').addClass('header-move2') } }) });
		</script>
<div class="header-bg ">
    <div class="bg-content">
        <ul class="tag">
            
            
            <li><a href="/tags/golang">golang</a></li>
            
            <li><a href="/tags/数据结构">数据结构</a></li>
            
            <li><a href="/tags/sort排序">sort排序</a></li>
            
            
        </ul>
        <h1>golang基础-sort使用方法</h1>
        <div class="article-info">
            <div class="article-author">
                
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                    <g>
                        <path fill="#12183A"
                            d="M6.187 15.265A6.47 6.47 0 0 0 10 16.5a6.47 6.47 0 0 0 3.813-1.235A4.99 4.99 0 0 0 10 13.5a4.99 4.99 0 0 0-3.813 1.765zM5.082 14.25A6.485 6.485 0 0 1 10 12c1.965 0 3.726.872 4.918 2.25a6.5 6.5 0 1 0-9.836 0zM10 18a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0-1.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z">
                        </path>
                    </g>
                </svg>
                
                <span> <a href="">CHANGEQ</a></span>
                <p>2021-06-28 16:08:39</p>
            </div>
        </div>
    </div>
</div>
<div class="article-content">
    <div id="article" class="content">
        <h3 id="前言："><a href="#前言：" class="headerlink" title="前言："></a>前言：</h3><p>我们前面写了container这个包，它里面有heap、list、ring<br>这一篇我们来学习一下sort这个包</p>
<h3 id="实现了排序算法的包sort包．"><a href="#实现了排序算法的包sort包．" class="headerlink" title="实现了排序算法的包sort包．"></a>实现了排序算法的包sort包．</h3><p>sort包中实现了３种基本的排序算法：插入排序．快排和堆排序．</p>
<p>和其他语言中一样，这三种方式都是不公开的，他们只在sort包内部使用．</p>
<p>所以用户在使用sort包进行排序时无需考虑使用那种排序方式</p>
<p>sort.Interface定义的三个方法：<br>    +获取数据集合长度的Len()方法</p>
<pre><code>+比较两个元素大小的Less()方法

+交换两个元素位置的Swap()方法
</code></pre>
<p>就可以顺利对数据集合进行排序。</p>
<p><strong>sort包会根据实际数据自动选择高效的排序算法。</strong></p>
<p>看看源码-sort.Interface：</p>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><code class="hljs reasonml"><span class="hljs-keyword">type</span> Interface interface &#123;<br><br>    <span class="hljs-constructor">Len()</span> <span class="hljs-built_in">int</span>    <span class="hljs-comment">// Len 为集合内元素的总数</span><br>  <br>    <span class="hljs-constructor">Less(<span class="hljs-params">i</span>, <span class="hljs-params">j</span> <span class="hljs-params">int</span>)</span> <span class="hljs-built_in">bool</span>　<span class="hljs-comment">//如果index为i的元素小于index为j的元素，则返回true，否则返回false</span><br><br>    <span class="hljs-constructor">Swap(<span class="hljs-params">i</span>, <span class="hljs-params">j</span> <span class="hljs-params">int</span>)</span>  <span class="hljs-comment">// Swap 交换索引为 i 和 j 的元素</span><br>&#125;<br><br></code></pre></td></tr></table></figure>

<p>任何实现了 sort.Interface 的类型（一般为集合），均可使用该包中的方法进行排序。</p>
<p>这些方法要求集合内列出元素的索引为整数。</p>
<p>Float64s将类型为float64的slice a以升序方式进行排序</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Float64s</span><span class="hljs-params">(a []<span class="hljs-keyword">float64</span>)</span></span>     <br></code></pre></td></tr></table></figure>

<p>判定是否已经进行排序func Ints(a []int)</p>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><code class="hljs reasonml">func <span class="hljs-constructor">Float64sAreSorted(<span class="hljs-params">a</span> []<span class="hljs-params">float64</span>)</span> <span class="hljs-built_in">bool</span>　　<br></code></pre></td></tr></table></figure>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><code class="hljs reasonml">func <span class="hljs-constructor">Ints(<span class="hljs-params">a</span> []<span class="hljs-params">int</span>)</span>                       <br><span class="hljs-comment">//Ints 以升序排列 int 切片。</span><br><br>func <span class="hljs-constructor">IntsAreSorted(<span class="hljs-params">a</span> []<span class="hljs-params">int</span>)</span> <span class="hljs-built_in">bool</span>　　　  <br><span class="hljs-comment">//IntsAreSorted 判断 int 切片是否已经按升序排列。</span><br></code></pre></td></tr></table></figure>

<figure class="highlight reasonml"><table><tr><td class="code"><pre><code class="hljs reasonml">func <span class="hljs-constructor">IsSorted(<span class="hljs-params">data</span> Interface)</span> <span class="hljs-built_in">bool</span>    <br><span class="hljs-comment">//IsSorted 判断数据是否已经排序。包括各种可sort的数据类型的判断．</span><br></code></pre></td></tr></table></figure>

<figure class="highlight reasonml"><table><tr><td class="code"><pre><code class="hljs reasonml">func <span class="hljs-constructor">Strings(<span class="hljs-params">a</span> []<span class="hljs-params">string</span>)</span><br><span class="hljs-comment">//Strings 以升序排列 string 切片。</span><br><br>func <span class="hljs-constructor">StringsAreSorted(<span class="hljs-params">a</span> []<span class="hljs-params">string</span>)</span> <span class="hljs-built_in">bool</span><br><span class="hljs-comment">//StringsAreSorted 判断 string 切片是否已经按升序排列。</span><br></code></pre></td></tr></table></figure>

<p>下面整个栗子</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><code class="hljs stylus">package <span class="hljs-selector-tag">main</span>  <br>  <br>import (  <br>    <span class="hljs-string">&quot;fmt&quot;</span>  <br>    <span class="hljs-string">&quot;sort&quot;</span>  <br>)  <br>  <br><span class="hljs-comment">//定义interface&#123;&#125;,并实现sort.Interface接口的三个方法  </span><br>type IntSlice <span class="hljs-selector-attr">[]</span>int  <br>  <br>func (c IntSlice) Len() int &#123;  <br>    return len(c)  <br>&#125;  <br>func (c IntSlice) Swap(<span class="hljs-selector-tag">i</span>, j int) &#123;  <br>    c<span class="hljs-selector-attr">[i]</span>, c<span class="hljs-selector-attr">[j]</span> = c<span class="hljs-selector-attr">[j]</span>, c<span class="hljs-selector-attr">[i]</span>  <br>&#125;  <br>func (c IntSlice) Less(<span class="hljs-selector-tag">i</span>, j int) bool &#123;  <br>    return c<span class="hljs-selector-attr">[i]</span> &lt; c<span class="hljs-selector-attr">[j]</span>  <br>&#125;  <br>  <br>func <span class="hljs-selector-tag">main</span>() &#123;  <br>    <span class="hljs-selector-tag">a</span> := IntSlice&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">2</span>&#125;  <br>    <span class="hljs-selector-tag">b</span> := <span class="hljs-selector-attr">[]</span>float64&#123;<span class="hljs-number">1.1</span>, <span class="hljs-number">2.3</span>, <span class="hljs-number">5.3</span>, <span class="hljs-number">3.4</span>&#125;  <br>    c := <span class="hljs-selector-attr">[]</span>int&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>&#125;  <br>    fmt<span class="hljs-selector-class">.Println</span>(sort<span class="hljs-selector-class">.IsSorted</span>(a)) <span class="hljs-comment">//false  </span><br>    <span class="hljs-keyword">if</span> !sort<span class="hljs-selector-class">.IsSorted</span>(a) &#123;  <br>        sort<span class="hljs-selector-class">.Sort</span>(a)   <br>    &#125;  <br>  <br>    <span class="hljs-keyword">if</span> !sort<span class="hljs-selector-class">.Float64sAreSorted</span>(b) &#123;  <br>        sort<span class="hljs-selector-class">.Float64s</span>(b)  <br>    &#125;  <br>    <span class="hljs-keyword">if</span> !sort<span class="hljs-selector-class">.IntsAreSorted</span>(c) &#123;  <br>        sort<span class="hljs-selector-class">.Ints</span>(c)  <br>    &#125;  <br>    fmt<span class="hljs-selector-class">.Println</span>(a)<span class="hljs-comment">//[1 2 3 5 7]  </span><br>    fmt<span class="hljs-selector-class">.Println</span>(b)<span class="hljs-comment">//[1.1 2.3 3.4 5.3]  </span><br>    fmt<span class="hljs-selector-class">.Println</span>(c)<span class="hljs-comment">// [1 2 3 4 5]  </span><br>&#125;  <br></code></pre></td></tr></table></figure>

<figure class="highlight reasonml"><table><tr><td class="code"><pre><code class="hljs reasonml">func <span class="hljs-constructor">Search(<span class="hljs-params">n</span> <span class="hljs-params">int</span>, <span class="hljs-params">f</span> <span class="hljs-params">func</span>(<span class="hljs-params">int</span>)</span> <span class="hljs-built_in">bool</span>) <span class="hljs-built_in">int</span>   <br></code></pre></td></tr></table></figure>

<p><strong>Search使用二分法进行查找，Search()方法回使用“二分查找”算法来搜索某指定切片[0:n]，并返回能够使f(i)=true的最小的i（0&lt;=i&lt;n）值，</strong></p>
<p>并且会假定，如果f(i)=true，则f(i+1)=true，即对于切片[0:n]，i之前的切片元素会使f()函数返回false，i及i之后的元素会使f()函数返回true。</p>
<p>但是，当在切片中无法找到时f(i)=true的i时（此时切片元素都不能使f()函数返回true），Search()方法会返回n（而不是返回-1）。</p>
<p>Search 常用于在一个已排序的，可索引的数据结构中寻找索引为 i 的值 x，例如数组或切片。</p>
<p>这种情况下，实参 f，一般是一个闭包，会捕获所要搜索的值，以及索引并排序该数据结构的方式。</p>
<p>为了查找某个值，而不是某一范围的值时，如果slice以升序排序，则　f func中应该使用＞＝,如果slice以降序排序，则应该使用&lt;=. 例子如下：package main</p>
<p>整个栗子</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main  <br>  <br><span class="hljs-keyword">import</span> (  <br>    <span class="hljs-string">&quot;fmt&quot;</span>  <br>    <span class="hljs-string">&quot;sort&quot;</span>  <br>)  <br>  <br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;  <br>    a := []<span class="hljs-keyword">int</span>&#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>&#125;  <br>    b := sort.Search(<span class="hljs-built_in">len</span>(a), <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(i <span class="hljs-keyword">int</span>)</span> <span class="hljs-title">bool</span></span> &#123; <span class="hljs-keyword">return</span> a[i] &gt;= <span class="hljs-number">30</span> &#125;)  <br>    fmt.Println(b)　　　　　　　<br>    <span class="hljs-comment">//5，查找不到，返回a slice的长度５，而不是-1  </span><br>    <br>    c := sort.Search(<span class="hljs-built_in">len</span>(a), <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(i <span class="hljs-keyword">int</span>)</span> <span class="hljs-title">bool</span></span> &#123; <span class="hljs-keyword">return</span> a[i] &lt;= <span class="hljs-number">3</span> &#125;)  <br>    fmt.Println(c)                             <br>    <span class="hljs-comment">//0，利用二分法进行查找，返回符合条件的最左边数值的index，即为０  </span><br>    <br>    d := sort.Search(<span class="hljs-built_in">len</span>(a), <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(i <span class="hljs-keyword">int</span>)</span> <span class="hljs-title">bool</span></span> &#123; <span class="hljs-keyword">return</span> a[i] == <span class="hljs-number">3</span> &#125;)  <br>    <br>    fmt.Println(d)                          <span class="hljs-comment">//2　　　  </span><br>&#125; <br></code></pre></td></tr></table></figure>
<p>我真的觉得这个search真的很不错，多功能</p>
<p>官网上面有趣的例子：</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">GuessingGame</span><span class="hljs-params">()</span></span> &#123;<br>	<span class="hljs-keyword">var</span> s <span class="hljs-keyword">string</span><br>	fmt.Printf(<span class="hljs-string">&quot;Pick an integer from 0 to 100.\n&quot;</span>)<br><br>	answer := sort.Search(<span class="hljs-number">100</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(i <span class="hljs-keyword">int</span>)</span> <span class="hljs-title">bool</span></span> &#123;<br>		fmt.Printf(<span class="hljs-string">&quot;Is your number &lt;= %d? &quot;</span>, i)<br>		fmt.Scanf(<span class="hljs-string">&quot;%s&quot;</span>, &amp;s)<br>		<span class="hljs-keyword">return</span> s != <span class="hljs-string">&quot;&quot;</span> &amp;&amp; s[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;y&#x27;</span><br>	&#125;)<br>	<br>    fmt.Printf(<span class="hljs-string">&quot;Your number is %d.\n&quot;</span>, answer)<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight reasonml"><table><tr><td class="code"><pre><code class="hljs reasonml">func <span class="hljs-constructor">SearchFloat64s(<span class="hljs-params">a</span> []<span class="hljs-params">float64</span>, <span class="hljs-params">x</span> <span class="hljs-params">float64</span>)</span> <span class="hljs-built_in">int</span>　　<br><span class="hljs-comment">//SearchFloat64s 在float64s切片中搜索x并返回索引如Search函数所述. 返回可以插入x值的索引位置，如果x不存在，返回数组a的长度切片必须以升序排列</span><br><br>func <span class="hljs-constructor">SearchInts(<span class="hljs-params">a</span> []<span class="hljs-params">int</span>, <span class="hljs-params">x</span> <span class="hljs-params">int</span>)</span> <span class="hljs-built_in">int</span>  <br><span class="hljs-comment">//SearchInts 在ints切片中搜索x并返回索引如Search函数所述. 返回可以插入x值的索引位置，如果x不存在，返回数组a的长度切片必须以升序排列</span><br><br>func <span class="hljs-constructor">SearchStrings(<span class="hljs-params">a</span> []<span class="hljs-params">string</span>, <span class="hljs-params">x</span> <span class="hljs-params">string</span>)</span> <span class="hljs-built_in">int</span><br><span class="hljs-comment">//SearchFloat64s 在strings切片中搜索x并返回索引如Search函数所述. 返回可以插入x值的索引位置，如果x不存在，返回数组a的长度切片必须以升序排列</span><br></code></pre></td></tr></table></figure>

<p><strong>其中需要注意的是，以上三种search查找方法，其对应的slice必须按照升序进行排序，否则会出现奇怪的结果．</strong></p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><code class="hljs stylus">package <span class="hljs-selector-tag">main</span>  <br>  <br>import (  <br>    <span class="hljs-string">&quot;fmt&quot;</span>  <br>    <span class="hljs-string">&quot;sort&quot;</span>  <br>)  <br>  <br>func <span class="hljs-selector-tag">main</span>() &#123;  <br>    <span class="hljs-selector-tag">a</span> := <span class="hljs-selector-attr">[]</span>string&#123;<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>&#125;  <br>    <span class="hljs-selector-tag">i</span> := sort<span class="hljs-selector-class">.SearchStrings</span>(<span class="hljs-selector-tag">a</span>, <span class="hljs-string">&quot;b&quot;</span>)  <br>    fmt<span class="hljs-selector-class">.Println</span>(i) <span class="hljs-comment">//1  </span><br>    <span class="hljs-selector-tag">b</span> := <span class="hljs-selector-attr">[]</span>string&#123;<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>, <span class="hljs-string">&quot;d&quot;</span>&#125;  <br>    <span class="hljs-selector-tag">i</span> = sort<span class="hljs-selector-class">.SearchStrings</span>(<span class="hljs-selector-tag">b</span>, <span class="hljs-string">&quot;b&quot;</span>)  <br>    fmt<span class="hljs-selector-class">.Println</span>(i) <span class="hljs-comment">//1  </span><br>    c := <span class="hljs-selector-attr">[]</span>string&#123;<span class="hljs-string">&quot;d&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>&#125;  <br>    <span class="hljs-selector-tag">i</span> = sort<span class="hljs-selector-class">.SearchStrings</span>(c, <span class="hljs-string">&quot;b&quot;</span>)  <br>    fmt<span class="hljs-selector-class">.Println</span>(i) <span class="hljs-comment">//0  </span><br>    d := <span class="hljs-selector-attr">[]</span>string&#123;<span class="hljs-string">&quot;c&quot;</span>, <span class="hljs-string">&quot;d&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>&#125;  <br>    <span class="hljs-selector-tag">i</span> = sort<span class="hljs-selector-class">.SearchStrings</span>(d, <span class="hljs-string">&quot;b&quot;</span>)  <br>    fmt<span class="hljs-selector-class">.Println</span>(i) <br>    <br>    <span class="hljs-comment">//0，由于d不是以升序方式排列，所以出现奇怪的结果，这可以根据SearchStrings的定义进行解释．见下方．  </span><br>&#125;  <br></code></pre></td></tr></table></figure>

<figure class="highlight reasonml"><table><tr><td class="code"><pre><code class="hljs reasonml">func <span class="hljs-constructor">SearchStrings(<span class="hljs-params">a</span> []<span class="hljs-params">string</span>, <span class="hljs-params">x</span> <span class="hljs-params">string</span>)</span> <span class="hljs-built_in">int</span> &#123;  <br>    return <span class="hljs-constructor">Search(<span class="hljs-params">len</span>(<span class="hljs-params">a</span>)</span>, func(i <span class="hljs-built_in">int</span>) <span class="hljs-built_in">bool</span> &#123; return a<span class="hljs-literal">[<span class="hljs-identifier">i</span>]</span> &gt;= x &#125;)  <br>&#125;  <br></code></pre></td></tr></table></figure>


<p>由此可见，为了精确查找，必须对[]string　以升序方式进行排序．</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><code class="hljs haskell"><span class="hljs-title">func</span> <span class="hljs-type">Sort</span>(<span class="hljs-class"><span class="hljs-keyword">data</span> <span class="hljs-type">Interface</span>)</span><br>//<span class="hljs-type">Sort</span> 对 <span class="hljs-class"><span class="hljs-keyword">data</span> 进行排序。</span><br></code></pre></td></tr></table></figure>

<p>它调用一次 data.Len 来决定排序的长度 n，调用 data.Less 和 data.Swap 的开销为O(n*log(n))。</p>
<p><strong>此排序为不稳定排序。他根据不同形式决定使用不同的排序方式（插入排序，堆排序，快排）</strong></p>
<p>func Stable(data Interface)Stable对data进行排序，不过排序过程中，<strong>如果data中存在相等的元素，则他们原来的顺序不会改变，即如果有两个相等元素num,他们的初始index分别为i和j，并且i&lt;j，则利用Stable对data进行排序后，i依然小于ｊ．直接利用sort进行排序则不能够保证这一点．</strong><br>(会不会改变原来的相对位置就是稳定的判定条件)</p>
<p>golang自身实现的interface有三种</p>
<p>Float64Slice</p>
<p>IntSlic</p>
<p>StringSlice具体如下所示：</p>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><code class="hljs reasonml"><span class="hljs-keyword">type</span> Float64Slice<br><br><span class="hljs-keyword">type</span> Float64Slice <span class="hljs-literal">[]</span>float64<br>Float64Slice 针对 <span class="hljs-literal">[]</span>float6 实现接口的方法，以升序排列。<br><span class="hljs-literal">[<span class="hljs-identifier">html</span>]</span>  view plain  copy<br>func (p Float64Slice) <span class="hljs-constructor">Len()</span> <span class="hljs-built_in">int</span>　　　　<span class="hljs-comment">//求长度  </span><br>func (p Float64Slice) <span class="hljs-constructor">Less(<span class="hljs-params">i</span>, <span class="hljs-params">j</span> <span class="hljs-params">int</span>)</span> <span class="hljs-built_in">bool</span>　<span class="hljs-comment">//比大小  </span><br>func (p Float64Slice) <span class="hljs-constructor">Search(<span class="hljs-params">x</span> <span class="hljs-params">float64</span>)</span> <span class="hljs-built_in">int</span>　<span class="hljs-comment">//查找  </span><br>func (p Float64Slice) <span class="hljs-constructor">Sort()</span>　　　　　　<span class="hljs-comment">//排序  </span><br>func (p Float64Slice) <span class="hljs-constructor">Swap(<span class="hljs-params">i</span>, <span class="hljs-params">j</span> <span class="hljs-params">int</span>)</span>　　　<span class="hljs-comment">//交换位置  </span><br></code></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><br><span class="hljs-keyword">type</span> IntSlice<br><br><span class="hljs-keyword">type</span> IntSlice []<span class="hljs-keyword">int</span><br>IntSlice 针对 []<span class="hljs-keyword">int</span> 实现接口的方法，以升序排列。<br><br>[html]  view plain  <span class="hljs-built_in">copy</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p IntSlice)</span> <span class="hljs-title">Len</span><span class="hljs-params">()</span> <span class="hljs-title">int</span></span>  <br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p IntSlice)</span> <span class="hljs-title">Less</span><span class="hljs-params">(i, j <span class="hljs-keyword">int</span>)</span> <span class="hljs-title">bool</span></span>  <br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p IntSlice)</span> <span class="hljs-title">Search</span><span class="hljs-params">(x <span class="hljs-keyword">int</span>)</span> <span class="hljs-title">int</span></span>  <br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p IntSlice)</span> <span class="hljs-title">Sort</span><span class="hljs-params">()</span></span>  <br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p IntSlice)</span> <span class="hljs-title">Swap</span><span class="hljs-params">(i, j <span class="hljs-keyword">int</span>)</span></span>  <br><br></code></pre></td></tr></table></figure>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">type</span> StringSlice<br><br><span class="hljs-keyword">type</span> StringSlice []<span class="hljs-keyword">string</span><br>StringSlice 针对 []<span class="hljs-keyword">string</span> 实现接口的方法，以升序排列。<br><br>[html]  view plain  <span class="hljs-built_in">copy</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p StringSlice)</span> <span class="hljs-title">Len</span><span class="hljs-params">()</span> <span class="hljs-title">int</span></span>  <br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p StringSlice)</span> <span class="hljs-title">Less</span><span class="hljs-params">(i, j <span class="hljs-keyword">int</span>)</span> <span class="hljs-title">bool</span></span>  <br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p StringSlice)</span> <span class="hljs-title">Search</span><span class="hljs-params">(x <span class="hljs-keyword">string</span>)</span> <span class="hljs-title">int</span></span>  <br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p StringSlice)</span> <span class="hljs-title">Sort</span><span class="hljs-params">()</span></span>  <br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p StringSlice)</span> <span class="hljs-title">Swap</span><span class="hljs-params">(i, j <span class="hljs-keyword">int</span>)</span></span>  <br><br></code></pre></td></tr></table></figure>
<figure class="highlight ada"><table><tr><td class="code"><pre><code class="hljs ada">func <span class="hljs-keyword">Reverse</span>(data <span class="hljs-keyword">Interface</span>) <span class="hljs-keyword">Interface</span><br>func <span class="hljs-keyword">Reverse</span>(data <span class="hljs-keyword">Interface</span>) <span class="hljs-keyword">Interface</span><br><span class="hljs-keyword">Reverse</span>实现对data的逆序排列<br><br></code></pre></td></tr></table></figure>
<figure class="highlight gradle"><table><tr><td class="code"><pre><code class="hljs gradle"><br><br><span class="hljs-keyword">package</span> main  <br>  <br><span class="hljs-keyword">import</span> (  <br>    <span class="hljs-string">&quot;fmt&quot;</span>  <br>    <span class="hljs-string">&quot;sort&quot;</span>  <br>)  <br>  <br>func main() &#123;  <br>    a := []<span class="hljs-keyword">int</span>&#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>&#125;  <br>    fmt.<span class="hljs-keyword">Println</span>(a)        <span class="hljs-comment">// [1 2 5 3 4]  </span><br>    <span class="hljs-keyword">sort</span>.<span class="hljs-keyword">Sort</span>(<span class="hljs-keyword">sort</span>.<span class="hljs-keyword">Reverse</span>(<span class="hljs-keyword">sort</span>.IntSlice(a)))  <br>    fmt.<span class="hljs-keyword">Println</span>(a)        <span class="hljs-comment">// [5 4 3 2 1]  </span><br>&#125;  <br><br><br></code></pre></td></tr></table></figure>

<p>sort.Sort 并不保证排序的稳定性。如果有需要, 可以使用 sort.Stable。</p>
<h3 id="总结一下"><a href="#总结一下" class="headerlink" title="总结一下"></a>总结一下</h3><p>sort 包 在内部实现了四种基本的排序算法：插入排序（insertionSort）、归并排序（symMerge）、堆排序（heapSort）和快速排序（quickSort）；sort包会依据实际数据自动选择最优的排序算法。所以我们写代码时只需要考虑实现 sort.Interface 这个类型就可以了。</p>
<ol>
<li>对 []int 和 []string字符串进行排序<figure class="highlight gradle"><table><tr><td class="code"><pre><code class="hljs gradle"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br>    <span class="hljs-string">&quot;fmt&quot;</span><br>    <span class="hljs-string">&quot;sort&quot;</span><br>)<br><br>func main() &#123;<br>    <span class="hljs-comment">// []int排序</span><br>    nums := []<span class="hljs-keyword">int</span>&#123;<span class="hljs-number">2</span>, <span class="hljs-number">31</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">3</span>&#125;<br>    <span class="hljs-comment">//顺序</span><br>    <span class="hljs-keyword">sort</span>.Ints(nums)<br>    fmt.<span class="hljs-keyword">Println</span>(<span class="hljs-string">&quot;1: &quot;</span>, nums)<br>    <span class="hljs-comment">//使用 sort.Reverse 进行逆序排序</span><br>    <span class="hljs-keyword">sort</span>.<span class="hljs-keyword">Sort</span>(<span class="hljs-keyword">sort</span>.<span class="hljs-keyword">Reverse</span>(<span class="hljs-keyword">sort</span>.IntSlice(nums)))<br>    fmt.<span class="hljs-keyword">Println</span>(<span class="hljs-string">&quot;2: &quot;</span>, nums)<br><br>    <span class="hljs-comment">// []string字符串排序</span><br>    names := []string&#123;<span class="hljs-string">&quot;abc&quot;</span>, <span class="hljs-string">&quot;12&quot;</span>, <span class="hljs-string">&quot;kk&quot;</span>, <span class="hljs-string">&quot;Jordan&quot;</span>, <span class="hljs-string">&quot;Ko&quot;</span>, <span class="hljs-string">&quot;DD&quot;</span>&#125;<br>    <span class="hljs-comment">// 顺序</span><br>    <span class="hljs-keyword">sort</span>.Strings(names)<br>    fmt.<span class="hljs-keyword">Println</span>(<span class="hljs-string">&quot;3: &quot;</span>, names)<br>    <span class="hljs-comment">// 逆序</span><br>    <span class="hljs-keyword">sort</span>.<span class="hljs-keyword">Sort</span>(<span class="hljs-keyword">sort</span>.<span class="hljs-keyword">Reverse</span>(<span class="hljs-keyword">sort</span>.StringSlice(names)))<br>    fmt.Printf(<span class="hljs-string">&quot;4: After Reverse: %#v\n&quot;</span>, names)<br><br>    <span class="hljs-comment">//查找</span><br>    <span class="hljs-comment">// [0,100)</span><br>    <span class="hljs-comment">// 二分查找</span><br>    nums = []<span class="hljs-keyword">int</span>&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>&#125;<br>    fmt.<span class="hljs-keyword">Println</span>(<span class="hljs-string">&quot;5: &quot;</span>, nums[<span class="hljs-keyword">sort</span>.SearchInts(nums, <span class="hljs-number">8</span>)] == <span class="hljs-number">8</span>)<br>    fmt.<span class="hljs-keyword">Println</span>(<span class="hljs-string">&quot;6: &quot;</span>, nums[<span class="hljs-keyword">sort</span>.SearchInts(nums, <span class="hljs-number">5</span>)] == <span class="hljs-number">5</span>)<br><br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">$ go run sort.go</span><br><span class="hljs-comment">1:  [2 3 5 6 31]</span><br><span class="hljs-comment">2:  [31 6 5 3 2]</span><br><span class="hljs-comment">3:  [12 DD Jordan Ko abc kk]</span><br><span class="hljs-comment">4: After Reverse: []string&#123;&quot;kk&quot;, &quot;abc&quot;, &quot;Ko&quot;, &quot;Jordan&quot;, &quot;DD&quot;, &quot;12&quot;&#125;</span><br><span class="hljs-comment">5:  false</span><br><span class="hljs-comment">6:  true</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure></li>
<li>使用 sort.Stable 进行稳定排序。</li>
</ol>
<p>**   sort.Sort 并不保证排序的稳定性。如果有需要, 可以使用 sort.Stable。**</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br>    <span class="hljs-string">&quot;fmt&quot;</span><br>    <span class="hljs-string">&quot;sort&quot;</span><br>)<br><br><span class="hljs-keyword">type</span> person <span class="hljs-keyword">struct</span> &#123;<br>    Name <span class="hljs-keyword">string</span><br>    Age  <span class="hljs-keyword">int</span><br>&#125;<br><br><span class="hljs-keyword">type</span> personSlice []person<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(s personSlice)</span> <span class="hljs-title">Len</span><span class="hljs-params">()</span> <span class="hljs-title">int</span></span>           &#123; <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(s) &#125;<br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(s personSlice)</span> <span class="hljs-title">Swap</span><span class="hljs-params">(i, j <span class="hljs-keyword">int</span>)</span></span>      &#123; s[i], s[j] = s[j], s[i] &#125;<br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(s personSlice)</span> <span class="hljs-title">Less</span><span class="hljs-params">(i, j <span class="hljs-keyword">int</span>)</span> <span class="hljs-title">bool</span></span> &#123; <span class="hljs-keyword">return</span> s[i].Age &lt; s[j].Age &#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>    a := personSlice&#123;<br>        &#123;<br>            Name: <span class="hljs-string">&quot;AAA&quot;</span>,<br>            Age:  <span class="hljs-number">55</span>,<br>        &#125;,<br>        &#123;<br>            Name: <span class="hljs-string">&quot;BBB&quot;</span>,<br>            Age:  <span class="hljs-number">22</span>,<br>        &#125;,<br>        &#123;<br>            Name: <span class="hljs-string">&quot;CCC&quot;</span>,<br>            Age:  <span class="hljs-number">0</span>,<br>        &#125;,<br>        &#123;<br>            Name: <span class="hljs-string">&quot;DDD&quot;</span>,<br>            Age:  <span class="hljs-number">22</span>,<br>        &#125;,<br>        &#123;<br>            Name: <span class="hljs-string">&quot;EEE&quot;</span>,<br>            Age:  <span class="hljs-number">11</span>,<br>        &#125;,<br>    &#125;<br>    sort.Stable(a)<br>    fmt.Println(a)<br><br>&#125;<br></code></pre></td></tr></table></figure>
    </div>
</div>
<style>
    #noneimg img {
        display: none;
        z-index: 109;
        width: 600px !important;
        border-radius: 0px;
        position: fixed;
        box-shadow: 0 0 0px #c3c3c300 !important;
        left: 0;
        top: 0;
        right: 0;
        bottom: 0;
        margin: auto !important;
    }

    @media screen and (max-width:600px) {
        #noneimg img {
            width: 88%
        }
    }
</style>
<script>
    $(function () { $('#article').click(function (e) { if (e.target.tagName == "IMG") { if ($('#nonediv').length == 0) { let MImg = `<div id='noneimg'><img src='${e.target.currentSrc}'></div>`; let MDiv = "<div id='nonediv' style='cursor: pointer;display: none; position: fixed;left: 0;top: 0; right: 0;bottom: 0;background-color: #333;opacity:0.5;z-index: 108;'></div>"; $('#article').append(MDiv); $('#article').append(MImg); $("#nonediv").fadeIn("slow"); $("#noneimg img").fadeIn("slow") } } else { if ($('#nonediv').length !== 0) { $("#noneimg ").fadeOut("slow"); $("#nonediv").fadeOut("slow"); setTimeout(function () { $('#nonediv').remove(); $('#noneimg').remove() }, 500) } } }); $('.article-content').addClass('content-move') });
</script>
<div class="Last-Next">
    
    <a href="/2021/06/28/5G-CPE/">
        <div class="last">
            <span>上一篇</span>
            <p>5G-CPE</p>
        </div>
    </a>
    

    
    <a href="/2021/06/24/cookie%E5%92%8Csession%E5%88%B0%E5%BA%95%E6%98%AF%E4%BB%80%E4%B9%88/">
        <div class="next">
            <span>下一篇</span>
            <p>cookie和session到底是什么</p>
        </div>
    </a>
    
</div>
		
<link rel="stylesheet" href="/css/food.css">

<div class="footer">
	<div class="Copyright">
		©2021 By CHANGEQ. 主题：<a
			style="text-decoration: none;display: contents; color: #898F9F;"
			target="_blank" rel="noopener" href="https://github.com/qiaobug/hexo-theme-quiet">Quiet</a>
	</div>
	<div class="contact">
		
		<a target="_blank" rel="noopener" href="https://github.com/qiaobug">
			<img src="https://cdn.jsdelivr.net/gh/duogongneng/MyBlogImg/imggithub.png" alt="Quiet主题">
		</a>
		
	</div>
</div>

<script src="/js/jquery.min.js"></script>


<script src="/js/gotop.js"></script>


<style type="text/css">
    @media screen and (min-width: 600px) {
        .goTop>span {
            display: block;
            border-radius: 50%;
            width: 66px;
            height: 66px;
            cursor: pointer;
            opacity: 0.8;
            background: rgba(18, 24, 58, 0.06);
            text-align: center;
            border: 1px solid rgba(18, 24, 58, 0.06);

            transition: border .5s;
            -moz-transition: border .5s;
            /* Firefox 4 */
            -webkit-transition: border .5s;
            /* Safari 和 Chrome */
            -o-transition: border .5s;
            /* Opera */
        }

        .goTop>span:hover {
            border: 1px solid #6680B3;
        }


        .goTop {
            position: fixed;
            right: 30px;
            bottom: 80px;
        }

        .goTop>span>svg {
            width: 30px;
            height: 30px;
            margin-top: 17.5px;
            opacity: 0.7;
        }

    }

    @media screen and (max-width: 600px) {
        .goTop {
            display: none;
        }
    }
</style>
<div class="goTop" id="js-go_top">
    <span>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
            <g>
                <path d="M13 12v8h-2v-8H4l8-8 8 8z"></path>
            </g>
        </svg>
    </span>
</div>
<script>
    $('#js-go_top').gotoTop({ offset: 500, speed: 300, animationShow: { 'transform': 'translate(0,0)', 'transition': 'transform .5s ease-in-out' }, animationHide: { 'transform': 'translate(100px,0)', 'transition': 'transform .5s ease-in-out' } });
</script>
<script>
	console.log('\n %c Hexo-Quiet 主题 %c https://github.com/QiaoBug/hexo-theme-quiet \n', 'color: #fadfa3; background: #030307; padding:5px 0;', 'background: #fadfa3; padding:5px 0;')
</script>
	</body>

</html>