<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="description" content="最小的k个数"/>




  <meta name="keywords" content="算法,面试题," />





  <link rel="alternate" href="/atom.xml" title="RiddleGo" type="application/atom+xml">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=1.1" />



<link rel="canonical" href="https://riddlego.github.io/2021/06/28/最小的k个数/"/>


<meta name="description" content="给定一个数组，找出其中最小的K个数。例如数组元素是4,5,1,6,2,7,3,8这8个数字，则最小的4个数字是1,2,3,4。如果K&gt;数组的长度，那么返回一个空的数组 1234567示例1输入：[4,5,1,6,2,7,3,8],4 返回值：[1,2,3,4] 当然 最简单直接的就是排序然后输出即可，利用内置的sort函数。 1234567891011func getLeastNumbers">
<meta property="og:type" content="article">
<meta property="og:title" content="最小的k个数">
<meta property="og:url" content="https://riddlego.github.io/2021/06/28/%E6%9C%80%E5%B0%8F%E7%9A%84k%E4%B8%AA%E6%95%B0/index.html">
<meta property="og:site_name" content="RiddleGo">
<meta property="og:description" content="给定一个数组，找出其中最小的K个数。例如数组元素是4,5,1,6,2,7,3,8这8个数字，则最小的4个数字是1,2,3,4。如果K&gt;数组的长度，那么返回一个空的数组 1234567示例1输入：[4,5,1,6,2,7,3,8],4 返回值：[1,2,3,4] 当然 最简单直接的就是排序然后输出即可，利用内置的sort函数。 1234567891011func getLeastNumbers">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-06-28T08:41:48.000Z">
<meta property="article:modified_time" content="2021-06-29T09:52:49.726Z">
<meta property="article:author" content="Russshare">
<meta property="article:tag" content="算法">
<meta property="article:tag" content="面试题">
<meta name="twitter:card" content="summary">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=1.1" />
<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet'>





<script type="text/javascript">
  var themeConfig = {
    fancybox: {
      enable: false
    },
  };
</script>




  



    <title> 最小的k个数 - RiddleGo </title>
  <meta name="generator" content="Hexo 5.4.0"></head>

  <body>
    <div id="page">
      <header id="masthead"><div class="site-header-inner">
    <h1 class="site-title">
        <a href="/." class="logo">RiddleGo</a>
    </h1>

    <nav id="nav-top">
        
            <ul id="menu-top" class="nav-top-items">
                
                    <li class="menu-item">
                        <a href="/archives">
                            
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/about">
                            
                            
                                About
                            
                        </a>
                    </li>
                
            </ul>
        
  </nav>
</div>

      </header>
      <div id="content">
        
    <div id="primary">
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          最小的k个数
        
      </h1>

      <time class="post-time">
          6月 28 2021
      </time>
    </header>



    
            <div class="post-content">
            <p>给定一个数组，找出其中最小的K个数。例如数组元素是4,5,1,6,2,7,3,8这8个数字，则最小的4个数字是1,2,3,4。如果K&gt;数组的长度，那么返回一个空的数组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">示例1</span><br><span class="line">输入：</span><br><span class="line">[4,5,1,6,2,7,3,8],4 </span><br><span class="line"></span><br><span class="line">返回值：</span><br><span class="line">[1,2,3,4]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>当然 最简单直接的就是排序然后输出即可，利用内置的sort函数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">func getLeastNumbers(input []int, k int) []int &#123;</span><br><span class="line">   if len(input) &#x3D;&#x3D; 0 || k &lt;&#x3D; 0 &#123;</span><br><span class="line">      return nil</span><br><span class="line">   &#125;</span><br><span class="line">   if k &gt;&#x3D; len(input) &#123;</span><br><span class="line">      return input</span><br><span class="line">   &#125;</span><br><span class="line">   sort.Ints(input)</span><br><span class="line">   return input[0 : k-1]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>但是肯定不是这么简单的。</p>
<p>其实涉及到这样的最小的k个数啊，或者最大的k个数，首先推荐就是小顶堆，或者大顶堆。</p>
<h3 id="大顶堆-小顶堆的构建以及排序的应用"><a href="#大顶堆-小顶堆的构建以及排序的应用" class="headerlink" title="大顶堆/小顶堆的构建以及排序的应用"></a>大顶堆/小顶堆的构建以及排序的应用</h3><p>每次其实因为用到的次数不是很多，所以其实我对这个的掌握不是很扎实，今天也趁此机会学一下几个概念<br>更多详细内容请看<br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/sunshineliulu/p/12995910.html">篇一</a><br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/jingmoxukong/p/4303826.html">篇二</a></p>
<p><strong>一、什么是堆</strong></p>
<p>堆是一种非线性结构，可以把堆看作一棵二叉树，也可以看作一个数组，即：堆就是利用完全二叉树的结构来维护的一维数组。</p>
<p>堆可以分为大顶堆和小顶堆。</p>
<p>大顶堆：每个结点的值都大于或等于其左右孩子结点的值。</p>
<p>小顶堆：每个结点的值都小于或等于其左右孩子结点的值。</p>
<p>如果是排序，求升序用大顶堆，求降序用小顶堆。</p>
<p>一般我们说 topK 问题，就可以用大顶堆或小顶堆来实现，</p>
<p><strong>最大的 K 个：小顶堆</strong></p>
<p><strong>最小的 K 个：大顶堆</strong></p>
<p>我们这道题是求最小的k个元素，我们构建个大顶堆，顶上是最大的元素，当来的数据比我顶上大，我就pass进行下一个判断，如果比顶上的小，那就交换以后重新规划我这个大顶堆，一直到最后，这个堆里面保存的就是最小的K个数。</p>
<p>这道题的代码实现：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 思路</span><br><span class="line">1、利用最大堆求解</span><br><span class="line">2、先将数组中前k个元素加入堆中，然后从k索引位置开始向后遍历</span><br><span class="line">3、比较当前元素arr[i]与堆顶元素大小，若arr[i] &lt; 堆顶元素，则推出堆定元素，并将该元素加入堆中</span><br><span class="line">4、重复上述循环，直至循环结束</span><br><span class="line">5、此时堆中存储的即为最小的k个元素 --&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">使用go官方提供的heap interface</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;container&#x2F;heap&quot;</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;我喜欢从上而下  先搭好框架  然后后面需要什么再补票上车</span><br><span class="line">func getLeastNumbers(arr []int, k int) []int &#123;</span><br><span class="line">	var res []int</span><br><span class="line">	n :&#x3D; len(arr)</span><br><span class="line">	if n &#x3D;&#x3D; 0 || k &lt;&#x3D; 0 || n &lt; k &#123;</span><br><span class="line">		return res</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;堆堆堆</span><br><span class="line">	pq :&#x3D; &amp;maxHeap&#123;&#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;先放进去k个元素</span><br><span class="line">	for i :&#x3D; 0; i &lt; k; i++ &#123;</span><br><span class="line">		heap.Push(pq, arr[i])</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;heapify</span><br><span class="line">	&#x2F;&#x2F;这是heap包里的一个函数  将数组转换成堆  默认的好像是小顶堆  你可以点进去看一下</span><br><span class="line">	heap.Init(pq)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;维护大顶堆</span><br><span class="line">	for i :&#x3D; k; i &lt; n; i++ &#123;</span><br><span class="line">		if pq.Len() &gt; 0 &amp;&amp; arr[i] &lt; pq.Peek().(int) &#123;</span><br><span class="line">			heap.Pop(pq)</span><br><span class="line">			heap.Push(pq, arr[i])</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;结果</span><br><span class="line">	for i :&#x3D; 0; i &lt; k; i++ &#123;</span><br><span class="line">		res &#x3D; append(res, heap.Pop(pq).(int))</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	return res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 基于go interface实现最大堆</span><br><span class="line">type maxHeap []int</span><br><span class="line"></span><br><span class="line">func (h *maxHeap) Len() int &#123;</span><br><span class="line">	return len(*h)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;这里是形成大顶堆还是小顶堆的关键</span><br><span class="line">func (h *maxHeap) Less(i, j int) bool &#123;</span><br><span class="line">	return (*h)[i] &gt; (*h)[j]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func (h *maxHeap) Swap(i, j int) &#123;</span><br><span class="line">	(*h)[i], (*h)[j] &#x3D; (*h)[j], (*h)[i]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func (h *maxHeap) Push(x interface&#123;&#125;) &#123;</span><br><span class="line">	*h &#x3D; append(*h, x.(int))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func (h *maxHeap) Pop() (v interface&#123;&#125;) &#123;</span><br><span class="line">	*h, v &#x3D; (*h)[:h.Len()-1], (*h)[h.Len()-1]</span><br><span class="line">	return</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 查看堆顶元素</span><br><span class="line">func (h *maxHeap) Peek() interface&#123;&#125; &#123;</span><br><span class="line">	return (*h)[0]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	h :&#x3D; &amp;maxHeap&#123;100, 16, 4, 8, 70, 2, 36, 22, 5, 12&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println(getLeastNumbers(*h, 3))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以上关于golang的包中关于heap的可以看我的另外一篇<a href="https://riddlego.github.io/2021/05/31/go%E5%AE%9E%E7%8E%B0%E5%B0%8F%E9%A1%B6%E5%A0%86%E5%A4%A7%E9%A1%B6%E5%A0%86/">blog</a></p>

            </div>
          

    
      <footer class="post-footer">
		
		<div class="post-tags">
		  
			<a href="/tags/%E7%AE%97%E6%B3%95/">算法</a>
		  
			<a href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/">面试题</a>
		  
		</div>
		

        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2021/06/28/LRU%E7%AE%97%E6%B3%95%E6%8B%86%E8%A7%A3%E4%B8%8E%E5%AE%9E%E7%8E%B0/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">LRU算法拆解与实现</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
      <a class="next" href="/2021/06/28/%E5%AF%BB%E6%89%BE%E7%AC%ACK%E5%A4%A7/">
        <span class="next-text nav-default">寻找第K大</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

        
  <div class="comments" id="comments">
    
  </div>


      </footer>
    
  </article>

    </div>

      </div>

      <footer id="colophon"><span class="copyright-year">
    
        &copy;
    
        2014 -
    
    2021
    <span class="footer-author">Russshare.</span>
    <span class="power-by">
        Powered by <a class="hexo-link" target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> and <a class="theme-link" target="_blank" rel="noopener" href="https://github.com/frostfan/hexo-theme-polarbear">Polar Bear</a>
    </span>
</span>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>
    


    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  

    <script type="text/javascript" src="/js/src/theme.js?v=1.1"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=1.1"></script>

  </body>
</html>
