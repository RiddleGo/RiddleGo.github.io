<!DOCTYPE html>
<html>

	<head>
		
<title>golang的基本数据类型-Russshare</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" type="image/x-icon" href="/image/favicon.ico">


<meta name="keywords" content="golang数据类型,">
<meta name="description" content="">


<script src="/js/jquery.min.js"></script>



<!-- Baidu Analytics -->
<script defer>
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?4b5fe1472f22fa";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>


	<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="RiddleGo" type="application/atom+xml">
</head>

	<body>
		
<link rel="stylesheet" href="/css/page.css">


<link rel="stylesheet" href="/css/page_cente.css">


<link rel="stylesheet" href="/css/atom-one-dark.css">


<link rel="stylesheet" href="/css/header.css">

	<div class="header">
		<div class="header-top">
			<div class="h-left">
				<a href="/">
					<img src="/image/logo.png" alt="Quiet">
				</a>
			</div>
			<div class="h-right">
				<ul>
					
						
								<li>
									<a href="/">
										HOME
									</a>
									<span class="dot"></span>
								</li>
								
									
						
								<li>
									<a href="/archives">
										ARCHIVE
									</a>
									<span class="dot"></span>
								</li>
								
									
						
								<li>
									<a href="/categories">
										CATEGORIES
									</a>
									<span class="dot"></span>
								</li>
								
									
						
								<li>
									<a href="/tags">
										TAGS
									</a>
									<span class="dot"></span>
								</li>
								
									
						
								<li>
									<a href="/links">
										LINKS
									</a>
									<span class="dot"></span>
								</li>
								
									
						
								<li>
									<a href="/about">
										ABOUT
									</a>
									<span class="dot"></span>
								</li>
								
									
				</ul>
			</div>
			<div class="h-right-close">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
					<path fill="none" d="M0 0h24v24H0z" />
					<path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z" fill="rgba(68,68,68,1)" />
				</svg>
			</div>
		</div>
	</div>
	<div class="sidebar">
    <div class="topo">
        <h2>Russshare</h2>
    </div>
    <ul>
        
        <li>
            <a href="/">HOME</a>
        </li>
        
        <li>
            <a href="/archives">ARCHIVE</a>
        </li>
        
        <li>
            <a href="/categories">CATEGORIES</a>
        </li>
        
        <li>
            <a href="/tags">TAGS</a>
        </li>
        
        <li>
            <a href="/links">LINKS</a>
        </li>
        
        <li>
            <a href="/about">ABOUT</a>
        </li>
        
    </ul>
    <div class="my_foot">
        
        <a target="_blank" rel="noopener" href="https://github.com/RiddleGo">
            <img src="https://cdn.jsdelivr.net/gh/duogongneng/MyBlogImg/imggithub.png" alt="Quiet主题">
        </a>
        
    </div>
</div>
<div class='shelter'
    style='cursor: pointer;display: none; position: fixed;left: 0;top: 0; right: 0;bottom: 0;background-color: #333;opacity:0.5;z-index: 108;'>
</div>
<style>
    .sidebar {
        width: 0;
        height: 100%;
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
        background: #fff;
        z-index: 999;
        text-align: center;
        box-shadow: -6px 0 20px rgba(98, 94, 94, .815)
    }

    .topo {
        width: 100%;
        height: 200px;
        background: url(https://api.ixiaowai.cn/gqapi/gqapi.php) no-repeat;
        background-size: 100% 100%;
        position: relative;
        display: flex;
        align-items: flex-end
    }

    .topo h2 {
        color: #fff;
        z-index: 1;
        position: relative;
        margin: 0 0 10px 10px;
        font-size: 1.2em;
        box-sizing: border-box
    }

    .topo:before {
        content: '';
        background-image: url(/image/pattern.png);
        background-repeat: repeat;
        height: 100%;
        left: 0;
        position: absolute;
        top: 0;
        width: 100%;
        z-index: 1
    }

    .sidebar ul {
        width: 100%;
        margin-top: 50px
    }

    .sidebar ul li {
        height: 50px;
        list-style: none;
        font-size: 1.2em;
        text-align: right;
        margin-right: 10px
    }

    .sidebar ul li a {
        display: grid;
        color: #5d606a;
        text-overflow: ellipsis;
        width: 100%;
        text-decoration: none
    }

    .my_foot {
        width: 100%;
        padding: 10px;
        margin-bottom: 10px;
        position: absolute;
        bottom: 0
    }

    .my_foot a {
        text-decoration: none;
        margin-right: 10px;
        display: inline-block
    }

    .my_foot a img {
        width: 30px;
        height: 30px
    }
</style>

<script>
    $(function () { $('.h-right-close>svg').click(function () { $('.sidebar').animate({ width: "66%" }, 500); $('.shelter').fadeIn("slow") }); $('.shelter').click(function (e) { $('.sidebar').animate({ width: "0" }, 500); $('.shelter').fadeOut("slow") }) })
</script>
		<script>
			$(function () { $(window).scroll(function () { if ($(document).scrollTop() > 100) { $(".header-top").removeClass("header-move2"); $('.header-top').addClass('header-move1') } else { $(".header-top").removeClass("header-move1"); $('.header-top').addClass('header-move2') } }) });
		</script>
<div class="header-bg ">
    <div class="bg-content">
        <ul class="tag">
            
            
            <li><a href="/tags/golang数据类型">golang数据类型</a></li>
            
            
        </ul>
        <h1>golang的基本数据类型</h1>
        <div class="article-info">
            <div class="article-author">
                
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                    <g>
                        <path fill="#12183A"
                            d="M6.187 15.265A6.47 6.47 0 0 0 10 16.5a6.47 6.47 0 0 0 3.813-1.235A4.99 4.99 0 0 0 10 13.5a4.99 4.99 0 0 0-3.813 1.765zM5.082 14.25A6.485 6.485 0 0 1 10 12c1.965 0 3.726.872 4.918 2.25a6.5 6.5 0 1 0-9.836 0zM10 18a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0-1.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z">
                        </path>
                    </g>
                </svg>
                
                <span> <a href="">Russshare</a></span>
                <p>2021-05-31 21:23:47</p>
            </div>
        </div>
    </div>
</div>
<div class="article-content">
    <div id="article" class="content">
        <h3 id="前言："><a href="#前言：" class="headerlink" title="前言："></a>前言：</h3><p>最近发现在看C的的程序，突然想到我的double类型，最后傻乎乎的才查到这是因为golang中的float32和float64,所以就没有了这个double<br>今天借助此文复习一下，感谢<a href="">原文</a></p>
<h3 id="go语言学习（基本数据类型）"><a href="#go语言学习（基本数据类型）" class="headerlink" title="go语言学习（基本数据类型）"></a>go语言学习（基本数据类型）</h3><h3 id="值类型："><a href="#值类型：" class="headerlink" title="值类型："></a>值类型：</h3><p><strong>int/uint ：</strong><br>根据系统确定是32还是64位。此外还有int8/uint8、int16/uint16、int32/uint32、int64/uint64</p>
<p>**byte:**字节型，相当于uint8。</p>
<p><strong>float：</strong>go语言中没有double型，因为已经有了float32/float64，分别精确到小数点后面7、15位。</p>
<p>uintptr:保存32bit或64bit指针，应该是保存指针的地址</p>
<h3 id="数组array："><a href="#数组array：" class="headerlink" title="数组array："></a>数组array：</h3><p>数组是有类型的，比如var a [10]int= [10]int{1}，a的类型为[10]int。</p>
<p>数组之间可以比较相等==或者不相等（!=），前提是类型相同。如果数组间类型相同且内容依次都一致，那么两个数组相等；如果两个数组类型相同，内容不一致，那么数组不相等。</p>
<p>数组间赋值是值拷贝，会拷贝整个数组的所有元素给另一个数组，而不是引用拷贝，这点和C很不一样！！！</p>
<h3 id="string"><a href="#string" class="headerlink" title="string"></a>string</h3><p>有地方说string是不可变的。这里要从string的内部结构说起：</p>
<figure class="highlight basic"><table><tr><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span>type StringHeader struct &#123;     <br><span class="hljs-symbol">2 </span>    <span class="hljs-keyword">Data</span> uintptr     <br><span class="hljs-symbol">3 </span>    <span class="hljs-keyword">Len</span>  <span class="hljs-keyword">int</span><br><span class="hljs-symbol">4 </span>&#125;<br></code></pre></td></tr></table></figure>
<p> string内部是一个指向某块内存的指针，加上内存块的长度。这里说的string不可变指的是uintptr指向的内存块的内容不可变，但是其指向可以变，用C语言描述一下就是：</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><code class="hljs angelscript"><span class="hljs-keyword">const</span> T *<span class="hljs-built_in">uint</span>ptr;<br></code></pre></td></tr></table></figure>

<h3 id="struct"><a href="#struct" class="headerlink" title="struct"></a>struct</h3><p>struct是值类型。struct的声明和初始化如下：</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">type</span> Person <span class="hljs-keyword">struct</span> &#123;<br>        Name <span class="hljs-keyword">string</span><br>        Age  <span class="hljs-keyword">int</span><br>    &#125;<span class="hljs-comment">//struct声明</span><br><br>    a := Person&#123;<br>        Age:  <span class="hljs-number">1</span>,<br>        Name: <span class="hljs-string">&quot;hao&quot;</span>,<br>    &#125;<span class="hljs-comment">//直接初始化赋值，每个赋值语句后面要有逗号</span><br><br>    b := Person&#123;&#125;    <span class="hljs-comment">//空结构体</span><br></code></pre></td></tr></table></figure>
<p>go语言中没有继承的概念，只有组合的概念，下面是个小例子：</p>
<figure class="highlight elm"><table><tr><td class="code"><pre><code class="hljs elm"> <span class="hljs-number">1</span> <span class="hljs-keyword">type</span> <span class="hljs-type">Person</span> struct &#123;<br> 2     <span class="hljs-type">Name</span> string<br> 3     <span class="hljs-type">Age</span>  int<br> 4 &#125;<br> <span class="hljs-number">5</span> <br> <span class="hljs-number">6</span> <span class="hljs-keyword">type</span> teacher struct &#123;<br> 7     <span class="hljs-type">Person</span><br> 8     field string<br> 9 &#125;<br><span class="hljs-number">10</span> <br><span class="hljs-number">11</span> <span class="hljs-keyword">type</span> student struct &#123;<br>12     <span class="hljs-type">Person</span><br>13     score int<br>14 &#125;<br><span class="hljs-number">15</span> <br><span class="hljs-number">16</span> func main() &#123;<br><span class="hljs-number">17</span>     a := student&#123;<br><span class="hljs-number">18</span>         score:  <span class="hljs-number">100</span>,<br><span class="hljs-number">19</span>         <span class="hljs-type">Person</span>: <span class="hljs-type">Person</span>&#123;<span class="hljs-string">&quot;guhao&quot;</span>, <span class="hljs-number">18</span>&#125;,<br><span class="hljs-number">20</span>     &#125;<br><span class="hljs-number">21</span>     fmt.<span class="hljs-type">Println</span>(a)<br><span class="hljs-number">22</span> &#125;<br></code></pre></td></tr></table></figure>

<h3 id="struct中的method"><a href="#struct中的method" class="headerlink" title="struct中的method"></a>struct中的method</h3><p>go没有class，只有struct。但是struct中提供了method方法，但不支持重载。写法与函数类似，这样一个struct就和method绑定了起来。method可以访问struct的所有字段，事实上go语言struct字段的可见性是针对真个package而言的。</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"> <span class="hljs-number">1</span> <span class="hljs-keyword">type</span> A <span class="hljs-keyword">struct</span> &#123;<br> <span class="hljs-number">2</span>     Name <span class="hljs-keyword">string</span><br> <span class="hljs-number">3</span> &#125;<br> <span class="hljs-number">4</span> <br> <span class="hljs-number">5</span> <span class="hljs-keyword">type</span> B <span class="hljs-keyword">struct</span> &#123;<br> <span class="hljs-number">6</span>     Name <span class="hljs-keyword">string</span><br> <span class="hljs-number">7</span> &#125;<br> <span class="hljs-number">8</span> <br> <span class="hljs-number">9</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><span class="hljs-number">10</span>     a := A&#123;<br><span class="hljs-number">11</span>         Name: <span class="hljs-string">&quot;gu&quot;</span>,<br><span class="hljs-number">12</span>     &#125;<br><span class="hljs-number">13</span>     a.Print(<span class="hljs-string">&quot;hao&quot;</span>)<br><span class="hljs-number">14</span> &#125;<br><span class="hljs-number">15</span> <br><span class="hljs-number">16</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(a A)</span> <span class="hljs-title">Print</span><span class="hljs-params">(arg <span class="hljs-keyword">string</span>)</span></span> &#123; <span class="hljs-comment">//(a A)表示接收者，arg代表方法的参数</span><br><span class="hljs-number">17</span>     fmt.Println(a.Name, arg)<br><span class="hljs-number">18</span> &#125;<br></code></pre></td></tr></table></figure>

<h3 id="基础类型起别名"><a href="#基础类型起别名" class="headerlink" title="基础类型起别名"></a>基础类型起别名</h3><p> go语言中可以给基础类型起别名，类似于C语言一样。下面的例子是给int起了个别名TZ，然后给这个别名绑定了print方法：</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><code class="hljs stylus"> <span class="hljs-number">1</span> type TZ int<br> <span class="hljs-number">2</span> <br> <span class="hljs-number">3</span> func (<span class="hljs-selector-tag">a</span> *TZ) print() &#123;<br> <span class="hljs-number">4</span>     fmt<span class="hljs-selector-class">.Println</span>(<span class="hljs-string">&quot;TZ:&quot;</span>, *a)<br> <span class="hljs-number">5</span> &#125;<br> <span class="hljs-number">6</span> func <span class="hljs-selector-tag">main</span>() &#123;<br> <span class="hljs-number">7</span>     <span class="hljs-selector-tag">var</span> <span class="hljs-selector-tag">a</span> TZ = <span class="hljs-number">100</span><br> <span class="hljs-number">8</span>     <span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.print</span>()<br> <span class="hljs-number">9</span> <br><span class="hljs-number">10</span>     <span class="hljs-selector-tag">var</span> <span class="hljs-selector-tag">b</span> int<br><span class="hljs-number">11</span>     <span class="hljs-selector-tag">b</span> = <span class="hljs-selector-tag">a</span>    <span class="hljs-comment">//错误</span><br><span class="hljs-number">12</span>     <span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.print</span>()  <span class="hljs-comment">//错误</span><br><span class="hljs-number">13</span> &#125;<br></code></pre></td></tr></table></figure>

<p>虽然TZ是int的别名，但两者不能直接赋值，需要显式的类型强制转换。go语言将这两者视为不同的类型。</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><code class="hljs stylus"><span class="hljs-number">1</span> <span class="hljs-selector-tag">var</span> <span class="hljs-selector-tag">b</span> int = <span class="hljs-number">99</span><br><span class="hljs-number">2</span> <span class="hljs-selector-tag">a</span> = TZ(b)<br><span class="hljs-number">3</span> <span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.print</span>()<br> <br></code></pre></td></tr></table></figure>
<h3 id="引用类型："><a href="#引用类型：" class="headerlink" title="引用类型："></a>引用类型：</h3><p>引用类型有三种：slice\map和channel</p>
<p><strong>slice</strong><br>slice其实是一个结构体，其中包含了指向底层数组的指针、长度、容量。所以改变slice的值也会改变对应的指向的底层数组。</p>
<p>slice不支持==，或者!=</p>
<p><strong>map</strong><br>map内部实现是hashtable， 定义如下m:=make(map[int]string)，每一级map需要单独初始化，否则直接用对二级map赋值会报错，而且是运行时候的错误，编译时无法发现。</p>
<p>1 func main() {<br>2     m := make(map[int]map[int]string)<br>3     a, ok := m[2][1]<br>4     if !ok {<br>5         m[2] = make(map[int]string)<br>6     }<br>7     a = “A”<br>8     fmt.Println(a, ok)<br>9 }</p>
<p>此外，<strong>map是引用类型，需要用make定义。而且map自动扩容，我需要学习。</strong>map的key必须支持==和!=操作（废话，不然怎么做通过key去查找）。</p>
<p><strong>channel</strong></p>
<h3 id="接口类型"><a href="#接口类型" class="headerlink" title="接口类型"></a>接口类型</h3><p>interface</p>
<p><strong>函数类型</strong><br>func：函数也是一种类型，因为go语言的函数可以赋值给变量。不支持嵌套，重载和默认参数。支持closure。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><code class="hljs swift"> <span class="hljs-number">1</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">closure</span>(x int)</span> <span class="hljs-function"><span class="hljs-keyword">func</span>(int)</span> int &#123;<br> <span class="hljs-number">2</span>     fmt.<span class="hljs-type">Printf</span>(<span class="hljs-string">&quot;%p<span class="hljs-subst">\n</span>&quot;</span>, <span class="hljs-operator">&amp;</span>x)<br> <span class="hljs-number">3</span>     <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">func</span>(y int)</span> int &#123;<br> <span class="hljs-number">4</span>         fmt.<span class="hljs-type">Printf</span>(<span class="hljs-string">&quot;%p<span class="hljs-subst">\n</span>&quot;</span>, <span class="hljs-operator">&amp;</span>x)<br> <span class="hljs-number">5</span>         <span class="hljs-keyword">return</span> x <span class="hljs-operator">+</span> y<br> <span class="hljs-number">6</span>     &#125;<br> <span class="hljs-number">7</span> &#125;<br> <span class="hljs-number">8</span> <br> <span class="hljs-number">9</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span>()</span> &#123;<br><span class="hljs-number">10</span>     x :<span class="hljs-operator">=</span> <span class="hljs-number">1</span><br><span class="hljs-number">11</span>     fc :<span class="hljs-operator">=</span> closure(x)<br><span class="hljs-number">12</span>     fc(<span class="hljs-number">100</span>)<br><span class="hljs-number">13</span>     fc(<span class="hljs-number">200</span>)<br><span class="hljs-number">14</span> &#125;<br></code></pre></td></tr></table></figure>
<p>我打印了三次调用的x的地址，打印的结果显示三次调用用到的x的值都是一样的，所以闭包对的x不是值拷贝，而是引用（应该是为了节约空间）。</p>
<h3 id="defer语句"><a href="#defer语句" class="headerlink" title="defer语句"></a>defer语句</h3><p>go语言特有的，执行顺序和定义顺序相反，先定义的语句后执行。</p>
<p>此外还支持panic和recover</p>
<p> panic和recover</p>
<figure class="highlight isbl"><table><tr><td class="code"><pre><code class="hljs isbl"> <span class="hljs-number">1</span> <span class="hljs-variable">func</span> <span class="hljs-function"><span class="hljs-title">A</span>() &#123;</span><br><span class="hljs-function"> <span class="hljs-number">2</span>     <span class="hljs-variable">fmt.Println</span>(<span class="hljs-string">&quot;A&quot;</span>)</span><br> <span class="hljs-number">3</span> &#125;<br> <span class="hljs-number">4</span> <br> <span class="hljs-number">5</span> <span class="hljs-variable">func</span> <span class="hljs-function"><span class="hljs-title">B</span>() &#123;</span><br><span class="hljs-function"> <span class="hljs-number">6</span>     <span class="hljs-variable">defer</span> <span class="hljs-title">func</span>() &#123;</span><br><span class="hljs-function"> <span class="hljs-number">7</span>         <span class="hljs-variable"><span class="hljs-keyword">if</span></span> <span class="hljs-variable">err</span> := <span class="hljs-title">recover</span>(); <span class="hljs-variable">err</span> <span class="hljs-variable">!</span>= <span class="hljs-variable"><span class="hljs-literal">nil</span></span> &#123;</span><br><span class="hljs-function"> <span class="hljs-number">8</span>             <span class="hljs-variable">fmt.Println</span>(<span class="hljs-string">&quot;recover in B&quot;</span>)</span><br> <span class="hljs-number">9</span>         &#125;<br><span class="hljs-number">10</span>     &#125;()<br><span class="hljs-number">11</span>     <span class="hljs-function"><span class="hljs-title">panic</span>(<span class="hljs-string">&quot;Panic in B&quot;</span>)</span><br><span class="hljs-number">12</span> &#125;<br><span class="hljs-number">13</span> <br><span class="hljs-number">14</span> <span class="hljs-variable">func</span> <span class="hljs-function"><span class="hljs-title">C</span>() &#123;</span><br><span class="hljs-function"><span class="hljs-number">15</span>     <span class="hljs-variable">fmt.Println</span>(<span class="hljs-string">&quot;C&quot;</span>)</span><br><span class="hljs-number">16</span> &#125;<br><span class="hljs-number">17</span> <br><span class="hljs-number">18</span> <span class="hljs-variable">func</span> <span class="hljs-function"><span class="hljs-title">main</span>() &#123;</span><br><span class="hljs-function"><span class="hljs-number">19</span>     <span class="hljs-title">A</span>()</span><br><span class="hljs-number">20</span>     <span class="hljs-function"><span class="hljs-title">B</span>()</span><br><span class="hljs-number">21</span>     <span class="hljs-function"><span class="hljs-title">C</span>()</span><br><span class="hljs-number">22</span> &#125;<br></code></pre></td></tr></table></figure>
<p>panic会导致程序中断，执行完了panic之后就不执行其他语句了，除非我们在panic执行前先注册了defer语句。因此recover登场了。recover必须和defer一起使用。可以帮助程序恢复执行。以上代码执行结构如下：</p>
<p>类型转换只能显式转换，不能隐式转换</p>
<figure class="highlight basic"><table><tr><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span>var a <span class="hljs-keyword">int</span> = <span class="hljs-number">3</span><br><span class="hljs-symbol">2 </span>var f float32 = float32(a)<br></code></pre></td></tr></table></figure>

<h3 id="枚举类型"><a href="#枚举类型" class="headerlink" title="枚举类型"></a>枚举类型</h3><p><strong>枚举类型必须定义在const块内.</strong></p>
<p>1、const块内默认下一条使用上一条语句</p>
<p>2、枚举值与iota出现的次数无关，与出现的位置有关：iota出现的位置代表了其值，默认从0开始。</p>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><code class="hljs reasonml"> <span class="hljs-number">1</span> const (<br> <span class="hljs-number">2</span>     a = <span class="hljs-character">&#x27;A&#x27;</span><br> <span class="hljs-number">3</span>     b<br> <span class="hljs-number">4</span>     c<br> <span class="hljs-number">5</span>     d = iota<br> <span class="hljs-number">6</span>     e = <span class="hljs-character">&#x27;B&#x27;</span><br> <span class="hljs-number">7</span>     f = iota<br> <span class="hljs-number">8</span>     g<br> <span class="hljs-number">9</span> )<br><span class="hljs-number">10</span> <br><span class="hljs-number">11</span> func main<span class="hljs-literal">()</span> &#123;<br><span class="hljs-number">12</span>     fmt.<span class="hljs-constructor">Println(<span class="hljs-params">a</span>)</span> <span class="hljs-comment">//输出65</span><br><span class="hljs-number">13</span>     fmt.<span class="hljs-constructor">Println(<span class="hljs-params">b</span>)</span> <span class="hljs-comment">//输出65</span><br><span class="hljs-number">14</span>     fmt.<span class="hljs-constructor">Println(<span class="hljs-params">c</span>)</span> <span class="hljs-comment">//输出65</span><br><span class="hljs-number">15</span>     fmt.<span class="hljs-constructor">Println(<span class="hljs-params">d</span>)</span> <span class="hljs-comment">//输出3</span><br><span class="hljs-number">16</span>     fmt.<span class="hljs-constructor">Println(<span class="hljs-params">e</span>)</span> <span class="hljs-comment">//输出66</span><br><span class="hljs-number">17</span>     fmt.<span class="hljs-constructor">Println(<span class="hljs-params">f</span>)</span> <span class="hljs-comment">//输出5</span><br><span class="hljs-number">18</span>     fmt.<span class="hljs-constructor">Println(<span class="hljs-params">g</span>)</span> <span class="hljs-comment">//输出6</span><br><span class="hljs-number">19</span> &#125;<br></code></pre></td></tr></table></figure>

<h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><p>有算术运算符和逻辑运算符、位运算符，写法和C语言一致。</p>
<p>多了一个专门为channel准备的运算符&lt;-</p>
<h3 id="new和make"><a href="#new和make" class="headerlink" title="new和make"></a>new和make</h3><p><strong>new返回的是指针，不会初始化变量，只是把新申请的空间内容值为零。</strong><br>用C语言写类似下面：</p>
<figure class="highlight basic"><table><tr><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span>T *obj=(T*)malloc(sizeof(T));<br><span class="hljs-symbol">2 </span>memset(obj, <span class="hljs-number">0</span>, sizeof(T));<br></code></pre></td></tr></table></figure>
<p>但并不是很准确，因为go语言中不同变量类型的零值不一样，比如bool的零值为false，int为零值为0，string的零值为空串，指针的零值是nil。所以下面这段代码p==nil</p>
<figure class="highlight axapta"><table><tr><td class="code"><pre><code class="hljs axapta"><span class="hljs-built_in">var</span> p *[]<span class="hljs-built_in">int</span> = <span class="hljs-keyword">new</span>([]<span class="hljs-built_in">int</span>) <br></code></pre></td></tr></table></figure>

<p>内建函数make(T, args)与new(T)的用途不一样。<strong>make它只用来创建slice，map和channel，并且返回一个初始化的(而不是置零)，类型为T的值（而不是*T）</strong>（初始化和置零有区别）。之所以有所不同，是因为这三个类型的背后引用了使用前必须初始化的数据结构。例如，slice是一个三元描述符，包含一个指向数据（在数组中）的指针，长度，以及容量，在这些项被初始化之前，slice都是nil的。对于slice，map和channel，make初始化这些内部数据结构，并准备好可用的值。<br>（就是make对于的三种，很复杂，没法置零，所以你就只能初始化）</p>
<h3 id="内存管理"><a href="#内存管理" class="headerlink" title="内存管理"></a>内存管理</h3><p>特别值得注意的是，局部变量不是所有的都分配在stack中（new出来的对象当然在heap上），<strong>如果一个函数的局部变量返回后依然被使用，那么这个变量分配在heap上，而不是stack上。</strong></p>
<p>这一部分有点乱的总结一下，琐碎的知识点</p>
<p><em><strong>以上就是本次的全部内容，希望对你有所帮助！！！</strong></em></p>

    </div>
</div>
<style>
    #noneimg img {
        display: none;
        z-index: 109;
        width: 600px !important;
        border-radius: 0px;
        position: fixed;
        box-shadow: 0 0 0px #c3c3c300 !important;
        left: 0;
        top: 0;
        right: 0;
        bottom: 0;
        margin: auto !important;
    }

    @media screen and (max-width:600px) {
        #noneimg img {
            width: 88%
        }
    }
</style>
<script>
    $(function () { $('#article').click(function (e) { if (e.target.tagName == "IMG") { if ($('#nonediv').length == 0) { let MImg = `<div id='noneimg'><img src='${e.target.currentSrc}'></div>`; let MDiv = "<div id='nonediv' style='cursor: pointer;display: none; position: fixed;left: 0;top: 0; right: 0;bottom: 0;background-color: #333;opacity:0.5;z-index: 108;'></div>"; $('#article').append(MDiv); $('#article').append(MImg); $("#nonediv").fadeIn("slow"); $("#noneimg img").fadeIn("slow") } } else { if ($('#nonediv').length !== 0) { $("#noneimg ").fadeOut("slow"); $("#nonediv").fadeOut("slow"); setTimeout(function () { $('#nonediv').remove(); $('#noneimg').remove() }, 500) } } }); $('.article-content').addClass('content-move') });
</script>
<div class="Last-Next">
    
    <a href="/2021/05/31/go%E8%AF%AD%E8%A8%80%E7%9A%84%E6%A0%87%E5%87%86%E5%BA%93container-3-ring/">
        <div class="last">
            <span>上一篇</span>
            <p>go语言的标准库container-3-ring</p>
        </div>
    </a>
    

    
    <a href="/2021/05/31/golang%E4%B8%ADmap%E7%9A%84%E5%B8%B8%E8%A7%81%E6%93%8D%E4%BD%9C/">
        <div class="next">
            <span>下一篇</span>
            <p>golang中map的常见操作</p>
        </div>
    </a>
    
</div>
		
<link rel="stylesheet" href="/css/food.css">

<div class="footer">
	<div class="Copyright">
		©2022 By Russshare. 主题：<a
			style="text-decoration: none;display: contents; color: #898F9F;"
			target="_blank" rel="noopener" href="https://github.com/qiaobug/hexo-theme-quiet">Quiet</a>
	</div>
	<div class="contact">
		
		<a target="_blank" rel="noopener" href="https://github.com/RiddleGo">
			<img src="https://cdn.jsdelivr.net/gh/duogongneng/MyBlogImg/imggithub.png" alt="Quiet主题">
		</a>
		
	</div>
</div>

<script src="/js/jquery.min.js"></script>


<script src="/js/gotop.js"></script>


<style type="text/css">
    @media screen and (min-width: 600px) {
        .goTop>span {
            display: block;
            border-radius: 50%;
            width: 66px;
            height: 66px;
            cursor: pointer;
            opacity: 0.8;
            background: rgba(18, 24, 58, 0.06);
            text-align: center;
            border: 1px solid rgba(18, 24, 58, 0.06);

            transition: border .5s;
            -moz-transition: border .5s;
            /* Firefox 4 */
            -webkit-transition: border .5s;
            /* Safari 和 Chrome */
            -o-transition: border .5s;
            /* Opera */
        }

        .goTop>span:hover {
            border: 1px solid #6680B3;
        }


        .goTop {
            position: fixed;
            right: 30px;
            bottom: 80px;
        }

        .goTop>span>svg {
            width: 30px;
            height: 30px;
            margin-top: 17.5px;
            opacity: 0.7;
        }

    }

    @media screen and (max-width: 600px) {
        .goTop {
            display: none;
        }
    }
</style>
<div class="goTop" id="js-go_top">
    <span>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
            <g>
                <path d="M13 12v8h-2v-8H4l8-8 8 8z"></path>
            </g>
        </svg>
    </span>
</div>
<script>
    $('#js-go_top').gotoTop({ offset: 500, speed: 300, animationShow: { 'transform': 'translate(0,0)', 'transition': 'transform .5s ease-in-out' }, animationHide: { 'transform': 'translate(100px,0)', 'transition': 'transform .5s ease-in-out' } });
</script>
<script>
	console.log('\n %c Hexo-Quiet 主题 %c https://github.com/QiaoBug/hexo-theme-quiet \n', 'color: #fadfa3; background: #030307; padding:5px 0;', 'background: #fadfa3; padding:5px 0;')
</script>
	</body>

</html>