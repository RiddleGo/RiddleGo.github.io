<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="description" content="分布式-集群"/>




  <meta name="keywords" content="微服务,负载均衡,分布式,集群," />





  <link rel="alternate" href="/atom.xml" title="RiddleGo" type="application/atom+xml">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=1.1" />



<link rel="canonical" href="https://riddlego.github.io/2021/07/31/分布式-集群/"/>


<meta name="description" content="前言最近在字节的面试中问起了我的一个分布式缓存的项目，项目是真的有跟着资料好好编写，但是讲的时候还是结结巴巴。其中有一点我这段时间一直耿耿于怀，面试官问我怎么解决了单点故障的问题，这个问题是因我随口的一句分布式可以负载均衡、高可用、避免单点故障，然后就把我问着了。 首先第一个点，负载均衡，关于这点我最了解的就是nginx的负载均衡。为了避免单独一个服务器的压力过大，它担任起了一个服务器代理的角色（">
<meta property="og:type" content="article">
<meta property="og:title" content="分布式-集群">
<meta property="og:url" content="https://riddlego.github.io/2021/07/31/%E5%88%86%E5%B8%83%E5%BC%8F-%E9%9B%86%E7%BE%A4/index.html">
<meta property="og:site_name" content="RiddleGo">
<meta property="og:description" content="前言最近在字节的面试中问起了我的一个分布式缓存的项目，项目是真的有跟着资料好好编写，但是讲的时候还是结结巴巴。其中有一点我这段时间一直耿耿于怀，面试官问我怎么解决了单点故障的问题，这个问题是因我随口的一句分布式可以负载均衡、高可用、避免单点故障，然后就把我问着了。 首先第一个点，负载均衡，关于这点我最了解的就是nginx的负载均衡。为了避免单独一个服务器的压力过大，它担任起了一个服务器代理的角色（">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gitee.com/psycho1900/miss-reddle/raw/master/%E6%9E%B6%E6%9E%84web.jpg">
<meta property="og:image" content="https://gitee.com/psycho1900/miss-reddle/raw/master/%E6%95%96%E4%B8%99.jpg">
<meta property="article:published_time" content="2021-07-31T05:20:41.000Z">
<meta property="article:modified_time" content="2021-08-22T03:14:25.989Z">
<meta property="article:author" content="Russshare">
<meta property="article:tag" content="微服务">
<meta property="article:tag" content="负载均衡">
<meta property="article:tag" content="分布式">
<meta property="article:tag" content="集群">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitee.com/psycho1900/miss-reddle/raw/master/%E6%9E%B6%E6%9E%84web.jpg">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=1.1" />
<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet'>





<script type="text/javascript">
  var themeConfig = {
    fancybox: {
      enable: false
    },
  };
</script>




  



    <title> 分布式-集群 - RiddleGo </title>
  <meta name="generator" content="Hexo 5.4.0"></head>

  <body>
    <div id="page">
      <header id="masthead"><div class="site-header-inner">
    <h1 class="site-title">
        <a href="/." class="logo">RiddleGo</a>
    </h1>

    <nav id="nav-top">
        
            <ul id="menu-top" class="nav-top-items">
                
                    <li class="menu-item">
                        <a href="/archives">
                            
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/about">
                            
                            
                                About
                            
                        </a>
                    </li>
                
            </ul>
        
  </nav>
</div>

      </header>
      <div id="content">
        
    <div id="primary">
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          分布式-集群
        
      </h1>

      <time class="post-time">
          7月 31 2021
      </time>
    </header>



    
            <div class="post-content">
            <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>最近在字节的面试中问起了我的一个分布式缓存的项目，项目是真的有跟着资料好好编写，但是讲的时候还是结结巴巴。其中有一点我这段时间一直耿耿于怀，面试官问我怎么解决了单点故障的问题，这个问题是因我随口的一句分布式可以负载均衡、高可用、避免单点故障，然后就把我问着了。</p>
<p>首先第一个点，负载均衡，关于这点我最了解的就是nginx的负载均衡。为了避免单独一个服务器的压力过大，它担任起了一个服务器代理的角色（反向代理），将来自用户的请求进行分发。</p>
<p><img src="https://gitee.com/psycho1900/miss-reddle/raw/master/%E6%9E%B6%E6%9E%84web.jpg"></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/1214804270hacker/p/9277895.html">图片来自</a></p>
<p>整体思想方向：前端部署nginx服务器，后端部署tomcat应用。用户访问nginx服务器，对于静态资源nginx服务器直接返回到浏览器展示给用户，对动态资源的请求被nginx服务器转发（分配）到tomcat应用服务器，tomcat应用服务器将处理后得到的数据结构返回给nginx服务器，然后返回到浏览器展示给用户。</p>
<p>　　注意：在这里Tomcat应用服务器就是Java应用，可以理解为后台。</p>
<p>在这里Nginx作为反向代理服务器，可以对后台的多台Tomcat服务器负载均衡，也可以让Nginx处理静态页面的请求、Tomcat处理JSP页面请求，以此达到动静分离的目的。</p>
<p>这样的架构是十分合理的</p>
<p>但是到这里，总感觉接近了分布式，却又感觉没有。<br>下面来聊聊分布式。</p>
<h3 id="但是这和分布式的关系是什么呢？"><a href="#但是这和分布式的关系是什么呢？" class="headerlink" title="但是这和分布式的关系是什么呢？"></a>但是这和分布式的关系是什么呢？</h3><p><strong>集群</strong><br>多台服务器组成的一组计算机，作为一个整体存在，向用户提供一组网络资源，这些单个的服务器就是集群的节点。</p>
<p>集群拥有以下两个特点：</p>
<ol>
<li><p>  可扩展性：集群的性能不限制于单一的服务实体，新的服务实体可以动态的添加到集群，从而增强集群的性能。</p>
</li>
<li><p>  高可用性：集群当其中一个节点发生故障时，这台节点上面所运行的应用程序将在另一台节点被自动接管，消除单点故障对于增强数据可用性、可达性和可靠性是非常重要的。</p>
</li>
</ol>
<p>集群必须拥有以下两大能力：</p>
<ol>
<li><pre><code>负载均衡：负载均衡把任务比较均匀的分布到集群环境下的计算和网络资源，以提高数据吞吐量。
</code></pre>
</li>
<li><pre><code>错误恢复：如果集群中的某一台服务器由于故障或者维护需要无法使用，资源和应用程序将转移到可用的集群节点上。这种由于某个节点的资源不能工作，另一个可用节点中的资源能够透明的接管并继续完成任务的过程，叫做错误恢复。
</code></pre>
</li>
</ol>
<p>负载均衡和错误恢复要求各服务实体中有执行同一任务的资源存在，而且对于同一任务的各个资源来说，执行任务所需的信息视图必须是相同的。</p>
<p><strong>分布式与集群的联系和区别</strong></p>
<ol>
<li><p>  分布式是指将不同的业务分布到不同的地方。</p>
</li>
<li><p>  而集群是指将几台服务器集中在一起，实在同一个业务。</p>
</li>
<li><p>  分布式的每一个节点，都可以用来做集群。而集群不一定就是分布式了</p>
</li>
</ol>
<p>例如：互联网上访问的人多了，就可以做一个集群，前面放一个响应服务器，后面几台服务器完成同一业务，如果有业务访问的时候，响应服务器看哪台服务器的负载不是很重，就将任务交给哪台去完成。</p>
<p>而分布式，从狭义上理解，也与集群差不多，但是它的组织比较松散，不像集群，有一定组织性，一台服务器宕了，其他的服务器可以顶上来。分布式的每一个节点，都完成不同的业务，一个节点宕了，这个业务就不可访问了。</p>
<p>看了这一段话，其实我可以将我的分布式结点再做成集群的模式</p>
<p><strong>这样我先通过分布式提升了整个架构的性能，同时又通过单个结点的集群配置，提升了我单个节点的负<br>载均衡和错误恢复能力。</strong></p>
<p><img src="https://gitee.com/psycho1900/miss-reddle/raw/master/%E6%95%96%E4%B8%99.jpg"><br>（图片来自敖丙的公众号）</p>
<h3 id="最后区分一下三个的区别"><a href="#最后区分一下三个的区别" class="headerlink" title="最后区分一下三个的区别"></a>最后区分一下三个的区别</h3><p>(集群,分布式，微服务概念和区别理解)[<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_37788067/article/details/79250623?utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-1.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-1.control%5D">https://blog.csdn.net/qq_37788067/article/details/79250623?utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-1.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-1.control]</a></p>

            </div>
          

    
      <footer class="post-footer">
		
		<div class="post-tags">
		  
			<a href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/">微服务</a>
		  
			<a href="/tags/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/">负载均衡</a>
		  
			<a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a>
		  
			<a href="/tags/%E9%9B%86%E7%BE%A4/">集群</a>
		  
		</div>
		

        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2021/07/31/%E9%9D%A2%E8%AF%95%EF%BC%9Aredis/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">面试：redis</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
      <a class="next" href="/2021/07/30/Pandas%E4%B9%8BSeries/">
        <span class="next-text nav-default">Pandas之Series</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

        
  <div class="comments" id="comments">
    
  </div>


      </footer>
    
  </article>

    </div>

      </div>

      <footer id="colophon"><span class="copyright-year">
    
        &copy;
    
        2014 -
    
    2021
    <span class="footer-author">Russshare.</span>
    <span class="power-by">
        Powered by <a class="hexo-link" target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> and <a class="theme-link" target="_blank" rel="noopener" href="https://github.com/frostfan/hexo-theme-polarbear">Polar Bear</a>
    </span>
</span>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>
    


    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  

    <script type="text/javascript" src="/js/src/theme.js?v=1.1"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=1.1"></script>

  </body>
</html>
