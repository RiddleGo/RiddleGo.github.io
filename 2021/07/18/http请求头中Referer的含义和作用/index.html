<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="description" content="http请求头中Referer的含义和作用"/>




  <meta name="keywords" content="HTTP," />





  <link rel="alternate" href="/atom.xml" title="RiddleGo" type="application/atom+xml">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=1.1" />



<link rel="canonical" href="https://riddlego.github.io/2021/07/18/http请求头中Referer的含义和作用/"/>


<meta name="description" content="（以前copy的前辈的笔记，忘记存链接，知道的可以联系我，感谢前辈。） 1、Referer是什么？Referer  是  HTTP  请求header 的一部分，当浏览器（或者模拟浏览器行为）向web 服务器发送请求的时候，头信息里有包含  Referer  。 比如我在www.google.com 里有一个www.baidu.com 链接，那么点击这个www.baidu.com ，它的heade">
<meta property="og:type" content="article">
<meta property="og:title" content="http请求头中Referer的含义和作用">
<meta property="og:url" content="https://riddlego.github.io/2021/07/18/http%E8%AF%B7%E6%B1%82%E5%A4%B4%E4%B8%ADReferer%E7%9A%84%E5%90%AB%E4%B9%89%E5%92%8C%E4%BD%9C%E7%94%A8/index.html">
<meta property="og:site_name" content="RiddleGo">
<meta property="og:description" content="（以前copy的前辈的笔记，忘记存链接，知道的可以联系我，感谢前辈。） 1、Referer是什么？Referer  是  HTTP  请求header 的一部分，当浏览器（或者模拟浏览器行为）向web 服务器发送请求的时候，头信息里有包含  Referer  。 比如我在www.google.com 里有一个www.baidu.com 链接，那么点击这个www.baidu.com ，它的heade">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gitee.com/psycho1900/miss-reddle/raw/master/http16.png">
<meta property="article:published_time" content="2021-07-18T09:31:44.000Z">
<meta property="article:modified_time" content="2021-07-18T09:39:31.454Z">
<meta property="article:author" content="Russshare">
<meta property="article:tag" content="HTTP">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitee.com/psycho1900/miss-reddle/raw/master/http16.png">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=1.1" />
<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet'>





<script type="text/javascript">
  var themeConfig = {
    fancybox: {
      enable: false
    },
  };
</script>




  



    <title> http请求头中Referer的含义和作用 - RiddleGo </title>
  <meta name="generator" content="Hexo 5.4.0"></head>

  <body>
    <div id="page">
      <header id="masthead"><div class="site-header-inner">
    <h1 class="site-title">
        <a href="/." class="logo">RiddleGo</a>
    </h1>

    <nav id="nav-top">
        
            <ul id="menu-top" class="nav-top-items">
                
                    <li class="menu-item">
                        <a href="/archives">
                            
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/about">
                            
                            
                                About
                            
                        </a>
                    </li>
                
            </ul>
        
  </nav>
</div>

      </header>
      <div id="content">
        
    <div id="primary">
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          http请求头中Referer的含义和作用
        
      </h1>

      <time class="post-time">
          7月 18 2021
      </time>
    </header>



    
            <div class="post-content">
            <p>（以前copy的前辈的笔记，忘记存链接，知道的可以联系我，感谢前辈。）</p>
<h3 id="1、Referer是什么？"><a href="#1、Referer是什么？" class="headerlink" title="1、Referer是什么？"></a>1、Referer是什么？</h3><p>Referer  是  HTTP  请求header 的一部分，当浏览器（或者模拟浏览器行为）向web 服务器发送请求的时候，头信息里有包含  Referer  。</p>
<p>比如我在<a target="_blank" rel="noopener" href="http://www.google.com/">www.google.com</a> 里有一个<a target="_blank" rel="noopener" href="http://www.baidu.com/">www.baidu.com</a> 链接，那么点击这个<a target="_blank" rel="noopener" href="http://www.baidu.com/">www.baidu.com</a> ，它的header 信息里就有：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Referer&#x3D;http:&#x2F;&#x2F;www.google.com</span><br></pre></td></tr></table></figure>
<p>由此可以看出来吧。它就是表示一个来源。看下图的一个请求的 Referer  信息。</p>
<p><img src="https://gitee.com/psycho1900/miss-reddle/raw/master/http16.png"></p>
<p>这里有一个小问题要说明下。<br><strong>Referer</strong>  的正确英语拼法是referrer 。由于早期HTTP规范的拼写错误，为了保持向后兼容就将错就错了。其它网络技术的规范企图修正此问题，使用正确拼法，所以目前拼法不统一。还有它第一个字母是大写。</p>
<h3 id="2、Referer的作用-？"><a href="#2、Referer的作用-？" class="headerlink" title="2、Referer的作用**？"></a>2、Referer的作用**？</h3><h4 id="2-1防盗链。"><a href="#2-1防盗链。" class="headerlink" title="2.1防盗链。"></a>2.1防盗链。</h4><p>刚刚前面有提到一个小 Demo  。</p>
<p>我在<a href="http://www.google.com里有一个www.baidu.com链接，那么点击这个www.baidu.com，它的header信息里就有：">www.google.com里有一个www.baidu.com链接，那么点击这个www.baidu.com，它的header信息里就有：</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Referer&#x3D;http:&#x2F;&#x2F;www.google.com</span><br></pre></td></tr></table></figure>

<p>那么可以利用这个来防止盗链了，比如我只允许我自己的网站访问我自己的图片服务器，那我的域名是<a target="_blank" rel="noopener" href="http://www.google.com,那么图片服务器每次取到referer来判断一下是不是我自己的域名www.google.com,如果是就继续访问,不是就拦截./">www.google.com，那么图片服务器每次取到Referer来判断一下是不是我自己的域名www.google.com，如果是就继续访问，不是就拦截。</a></p>
<p>这是不是就达到防盗链的效果了？</p>
<p><strong>将这个http请求发给服务器后，如果服务器要求必须是某个地址或者某几个地址才能访问，而你发送的referer不符合他的要求，就会拦截或者跳转到他要求的地址，然后再通过这个地址进行访问。</strong></p>
<h4 id="2-2-防止恶意请求。"><a href="#2-2-防止恶意请求。" class="headerlink" title="2.2 防止恶意请求。"></a>2.2 防止恶意请求。</h4><p>比如静态请求是*.html结尾的，动态请求是*.shtml，那么由此可以这么用，所有的*.shtml请求，必须 Referer  为我自己的网站。</p>
<p>Referer=<a target="_blank" rel="noopener" href="http://www.google.com/">http://www.google.com</a></p>
<h3 id="3、空Referer是怎么回事？什么情况下会出现Referer"><a href="#3、空Referer是怎么回事？什么情况下会出现Referer" class="headerlink" title="3、空Referer是怎么回事？什么情况下会出现Referer?"></a>3、空Referer是怎么回事？什么情况下会出现Referer?</h3><p>首先，我们对空 Referer  的定义为：Referer头部的内容为空或者一个 HTTP请求中根本不包含Referer头部。</p>
<p>那么什么时候HTTP请求会不包含Referer字段呢？根据Referer的定义，<strong>它的作用是指示一个请求是从哪里链接过来，那么当一个请求并不是由链接触发产生的，那么自然也就不需要指定这个请求的链接来源。</strong></p>
<p>比如，直接在浏览器的地址栏中输入一个资源的URL地址，那么这种请求是不会包含 Referer  字段的，因为这是一个“凭空产生”的 HTTP  请求，并不是从一个地方链接过去的。</p>
<p>那么在防盗链设置中，允许空Referer和不允许空Referer有什么区别？<br><strong>允许 Referer为空，意味着你允许比如浏览器直接访问，</strong>就是空。</p>

            </div>
          

    
      <footer class="post-footer">
		
		<div class="post-tags">
		  
			<a href="/tags/HTTP/">HTTP</a>
		  
		</div>
		

        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2021/07/18/HTTP%E9%97%AE%E9%97%AE%E7%AD%94%E7%AD%94/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">HTTP问问答答</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
      <a class="next" href="/2021/07/18/http-websocket-socket%E8%AF%A6%E8%A7%A3/">
        <span class="next-text nav-default">http-websocket-socket详解</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

        
  <div class="comments" id="comments">
    
  </div>


      </footer>
    
  </article>

    </div>

      </div>

      <footer id="colophon"><span class="copyright-year">
    
        &copy;
    
        2014 -
    
    2021
    <span class="footer-author">Russshare.</span>
    <span class="power-by">
        Powered by <a class="hexo-link" target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> and <a class="theme-link" target="_blank" rel="noopener" href="https://github.com/frostfan/hexo-theme-polarbear">Polar Bear</a>
    </span>
</span>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>
    


    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  

    <script type="text/javascript" src="/js/src/theme.js?v=1.1"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=1.1"></script>

  </body>
</html>
