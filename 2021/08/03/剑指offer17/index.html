<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="description" content="剑指offer17"/>




  <meta name="keywords" content="剑指offer," />





  <link rel="alternate" href="/atom.xml" title="RiddleGo" type="application/atom+xml">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=1.1" />



<link rel="canonical" href="https://riddlego.github.io/2021/08/03/剑指offer17/"/>


<meta name="description" content="剑指 Offer 17. 打印从1到最大的n位数题目描述输入数字 n，按顺序打印出从 1 到最大的 n 位十进制数。比如输入 3，则打印出 1、2、3 一直到最大的 3 位数 999。 示例 1: 输入: n &#x3D; 1输出: [1,2,3,4,5,6,7,8,9]   说明： 用返回一个整数列表来代替打印n 为正整数 解题思路乍一看，拿到这道题我确实唯一的思路就是，for循环，但是我怎么把位数的长度">
<meta property="og:type" content="article">
<meta property="og:title" content="剑指offer17">
<meta property="og:url" content="https://riddlego.github.io/2021/08/03/%E5%89%91%E6%8C%87offer17/index.html">
<meta property="og:site_name" content="RiddleGo">
<meta property="og:description" content="剑指 Offer 17. 打印从1到最大的n位数题目描述输入数字 n，按顺序打印出从 1 到最大的 n 位十进制数。比如输入 3，则打印出 1、2、3 一直到最大的 3 位数 999。 示例 1: 输入: n &#x3D; 1输出: [1,2,3,4,5,6,7,8,9]   说明： 用返回一个整数列表来代替打印n 为正整数 解题思路乍一看，拿到这道题我确实唯一的思路就是，for循环，但是我怎么把位数的长度">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-08-02T16:25:07.000Z">
<meta property="article:modified_time" content="2021-08-05T09:03:16.306Z">
<meta property="article:author" content="Russshare">
<meta property="article:tag" content="剑指offer">
<meta name="twitter:card" content="summary">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=1.1" />
<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet'>





<script type="text/javascript">
  var themeConfig = {
    fancybox: {
      enable: false
    },
  };
</script>




  



    <title> 剑指offer17 - RiddleGo </title>
  <meta name="generator" content="Hexo 5.4.0"></head>

  <body>
    <div id="page">
      <header id="masthead"><div class="site-header-inner">
    <h1 class="site-title">
        <a href="/." class="logo">RiddleGo</a>
    </h1>

    <nav id="nav-top">
        
            <ul id="menu-top" class="nav-top-items">
                
                    <li class="menu-item">
                        <a href="/archives">
                            
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/about">
                            
                            
                                About
                            
                        </a>
                    </li>
                
            </ul>
        
  </nav>
</div>

      </header>
      <div id="content">
        
    <div id="primary">
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          剑指offer17
        
      </h1>

      <time class="post-time">
          8月 03 2021
      </time>
    </header>



    
            <div class="post-content">
            <h2 id="剑指-Offer-17-打印从1到最大的n位数"><a href="#剑指-Offer-17-打印从1到最大的n位数" class="headerlink" title="剑指 Offer 17. 打印从1到最大的n位数"></a>剑指 Offer 17. 打印从1到最大的n位数</h2><h3 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h3><p>输入数字 n，按顺序打印出从 1 到最大的 n 位十进制数。比如输入 3，则打印出 1、2、3 一直到最大的 3 位数 999。</p>
<p>示例 1:</p>
<p>输入: n = 1<br>输出: [1,2,3,4,5,6,7,8,9]
 </p>
<p>说明：</p>
<p>用返回一个整数列表来代替打印<br>n 为正整数</p>
<h3 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h3><p>乍一看，拿到这道题我确实唯一的思路就是，for循环，但是我怎么把位数的长度变成数组</p>
<p>这样我先想办法找到这个长度的9</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">res&#x3D;0</span><br><span class="line">for i in range(n)&#123;</span><br><span class="line">  res&#x3D;res+9*Pow(10,i)   9 90 900 9000</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>找到了最大值，那不就直接整个列表循环加进去就完事</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">class Soulution:</span><br><span class="line">  def crc2(self,n:int):</span><br><span class="line">    list&#x3D;[]</span><br><span class="line">    res &#x3D; 0</span><br><span class="line">    for i in range(n):</span><br><span class="line">      res &#x3D; res + 9*Pow(10,i)</span><br><span class="line">    </span><br><span class="line">    for i in range(res+1):</span><br><span class="line">      list.append(i)</span><br><span class="line">    return list</span><br></pre></td></tr></table></figure>

<p>这个时候就需要光明正大看一下答案反思一下自己的答案，嗯看了以后我才知道我是个傻子。</p>
<p><strong>末尾的值–》</strong>10^n-1  靠哦</p>
<p><strong>还有问题一没有考虑到-》</strong>数组会不会超过int的范围，当 n 较大时，end 会超出 int32 整型的取值范围，超出取值范围的数字无法正常存储。但由于本题要求返回 int 类型数组，相当于默认所有数字都在 int32 整型取值范围内，因此不考虑大数越界问题。</p>
<p><strong>还有问题二没有考虑到-》</strong></p>
<h3 id="升级版本，到这里我也就不逼逼赖赖了，这道题急速升级"><a href="#升级版本，到这里我也就不逼逼赖赖了，这道题急速升级" class="headerlink" title="升级版本，到这里我也就不逼逼赖赖了，这道题急速升级"></a>升级版本，到这里我也就不逼逼赖赖了，这道题急速升级</h3><p>大数是肯定需要考虑的，大数的输出肯定也是需要考虑的。</p>
<p>于是让我想起了nnd的字节给我出的字符号串加减法，害得我啊丢人人了。</p>
<p>不多说开搞  </p>
<h4 id="问题一：实际上，本题的主要考点是大数越界情况下的打印。需要解决以下三个问题："><a href="#问题一：实际上，本题的主要考点是大数越界情况下的打印。需要解决以下三个问题：" class="headerlink" title="问题一：实际上，本题的主要考点是大数越界情况下的打印。需要解决以下三个问题："></a>问题一：实际上，本题的主要考点是大数越界情况下的打印。需要解决以下三个问题：</h4><ol>
<li><p>表示大数的变量类型：<br>无论是 short / int / long … 任意变量类型，数字的取值范围都是有限的。因此，大数的表示应用字符串 String 类型。<br>（这一点我就不用多说了，）</p>
</li>
<li><p>生成数字的字符串集：<br>使用 int 类型时，<strong>每轮可通过 +1 生成下个数字，而此方法无法应用至 String 类型</strong>。并且， String 类型的数字的进位操作效率较低，例如 “9999” 至 “10000” 需要从个位到千位循环判断，进位 4 次。</p>
</li>
</ol>
<p>观察可知，生成的列表实际上是 n 位 0 - 9 的 全排列 ，因此可避开进位操作，<strong>通过递归生成数字的 String 列表。</strong>，就是避免什么一起操作，递归就是一一解决的感觉。</p>
<ol start="3">
<li>递归生成全排列：</li>
</ol>
<p><strong>基于分治算法的思想，先固定高位，向低位递归</strong>，当个位已被固定时，添加数字的字符串。例如当 n=2 时（数字范围 1 - 99 ），固定十位为 0 - 9 ，按顺序依次开启递归，固定个位 0 - 9 ，终止递归并添加数字字符串。</p>
<p>根据以上初步编写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">  def re(self,n:int)-&gt;int:</span><br><span class="line">    num &#x3D; [&#39;0&#39;]*n</span><br><span class="line">    res &#x3D; []</span><br><span class="line">    dfs(s)</span><br><span class="line">    return &#39;,&#39;.join(res)</span><br><span class="line"></span><br><span class="line">    def dfs(k:int):</span><br><span class="line">      if k &#x3D;&#x3D; n:</span><br><span class="line">        res&#x3D;append(&#39; &#39;.join(num))</span><br><span class="line">        return</span><br><span class="line">      for i in range(10)</span><br><span class="line">        nums[x]&#x3D;i</span><br><span class="line">        dfs(x+1)</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/da-yin-cong-1dao-zui-da-de-nwei-shu-lcof/solution/mian-shi-ti-17-da-yin-cong-1-dao-zui-da-de-n-wei-2/">为更好的阅读建议原文链接</a></p>
<p>在此方法下，各数字字符串被逗号隔开，共同组成长字符串。返回的数字集字符串如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">输入：n &#x3D; 1</span><br><span class="line">输出：&quot;0,1,2,3,4,5,6,7,8,9&quot;</span><br><span class="line"></span><br><span class="line">输入：n &#x3D; 2</span><br><span class="line">输出：&quot;00,01,02,...,10,11,12,...,97,98,99&quot;</span><br><span class="line"></span><br><span class="line">输入：n &#x3D; 3</span><br><span class="line">输出：&quot;000,001,002,...,100,101,102,...,997,998,999&quot;</span><br></pre></td></tr></table></figure>
<p>观察可知，当前的生成方法仍有以下问题：</p>
<p>诸如 00, 01, 02, ⋯ 应显示为 0, 1, 2, ⋯ ，即应 删除高位多余的 0 ;<br>此方法从 0 开始生成，而题目要求 列表从 1 开始 ；</p>
<p><strong>以上两个问题的解决方法如下：</strong></p>
<h5 id="1-删除高位多余的-00-："><a href="#1-删除高位多余的-00-：" class="headerlink" title="1. 删除高位多余的 00 ："></a>1. 删除高位多余的 00 ：</h5><p>字符串左边界定义： 声明变量 start 规定字符串的左边界，以保证添加的数字字符串 num[start:] 中无高位多余的 0 。例如当 n = 2 时， 1−9 时 start = 1 ， 10 - 99 时 start = 0。</p>
<p>左边界 start 变化规律：观察可知，当输出数字的所有位都是 9 时，则下个数字需要向更高位进 1 ，此时左边界 start 需要减 1 （即高位多余的 0 减少一个）。例如当 n = 3 （数字范围 1 - 999 ）时，左边界 start 需要减 1 的情况有： “009” 进位至 “010” ， “099” 进位至 “100” 。设数字各位中 9 的数量为 nine ，所有位都为 9 的判断条件可用以下公式表示：</p>
<p>n - start = nine</p>
<p>统计 nine 的方法： 固定第 x 位时，当 i=9 则执行 nine = nine + 1 ，并在回溯前恢复 nine = nine - 1 。</p>
<ol start="2">
<li>列表从 11 开始：<br>在以上方法的基础上，添加数字字符串前判断其是否为 “0” ，若为 “0” 则直接跳过。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">    def printNumbers(self, n: int) -&gt; [int]:</span><br><span class="line">        def dfs(x):</span><br><span class="line">            if x &#x3D;&#x3D; n:</span><br><span class="line">                s &#x3D; &#39;&#39;.join(num[self.start:])</span><br><span class="line">                if s !&#x3D; &#39;0&#39;: res.append(s)</span><br><span class="line">                if n - self.start &#x3D;&#x3D; self.nine: self.start -&#x3D; 1</span><br><span class="line">                return</span><br><span class="line">            for i in range(10):</span><br><span class="line">                if i &#x3D;&#x3D; 9: self.nine +&#x3D; 1</span><br><span class="line">                num[x] &#x3D; str(i)</span><br><span class="line">                dfs(x + 1)</span><br><span class="line">            self.nine -&#x3D; 1</span><br><span class="line">        </span><br><span class="line">        num, res &#x3D; [&#39;0&#39;] * n, []</span><br><span class="line">        self.nine &#x3D; 0</span><br><span class="line">        self.start &#x3D; n - 1</span><br><span class="line">        dfs(0)</span><br><span class="line">        return &#39;,&#39;.join(res)</span><br></pre></td></tr></table></figure>

<p>这个该死的去0的推导 给我看吐了啊</p>
<p>我觉得这个跟更好理解[—-看这里哦](<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/da-yin-cong-1dao-zui-da-de-nwei-shu-lcof/solution/jian-zhi-offer-17-da-yin-cong-1dao-zui-d-ngm4/">https://leetcode-cn.com/problems/da-yin-cong-1dao-zui-da-de-nwei-shu-lcof/solution/jian-zhi-offer-17-da-yin-cong-1dao-zui-d-ngm4/</a><br>来源：力扣（LeetCode）)<br>以下是具体步骤</p>
<p>为了避免数字开头出现0，<strong>先把首位first固定，first取值范围为1~9</strong></p>
<p>用digit表示要生成的数字的位数，本题要从1位数一直生成到n位数，<strong>对每种数字的位数都生成一下首位，所以有个双重for循环</strong><br><strong>生成首位之后进入递归生成剩下的digit - 1位数，从0~9中取值</strong></p>
<p>递归的中止条件为已经生成了digit位的数字，即index == digit，将此时的数num转为int加到结果res中</p>
<p><strong>上代码</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">  def PrintNum(self,n:int)-&gt;List[int]:</span><br><span class="line">    res &#x3D; []</span><br><span class="line">    #确定当前是几位数的元素</span><br><span class="line">    for digit in range(1,n+1):</span><br><span class="line">    #传进去的是数字的首位数1-9 固定 避免了0 </span><br><span class="line">      for  first in range(1,10):</span><br><span class="line">        num &#x3D; [str(first)]</span><br><span class="line">        dfs(1,num,digit)</span><br><span class="line">    </span><br><span class="line">    def dfs(index,num,digit):</span><br><span class="line">    #当前的位数是不是等于我的位数了 是的话就 加进res</span><br><span class="line">      if index &#x3D;&#x3D;digit:</span><br><span class="line">        res.append(int(&#39;&#39;.join(num)))</span><br><span class="line">        return</span><br><span class="line">      #不是  </span><br><span class="line">      for i in range(10):</span><br><span class="line">      # 1 ----》 append以后 就是</span><br><span class="line">        num.append(str(i))</span><br><span class="line">        dfs(index+1,num,digit)</span><br><span class="line">        nums.pop()</span><br></pre></td></tr></table></figure>

<p>这就解决了</p>
<p>我要自己再写一遍了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">  def re(self, k:int)-&gt;List[]:</span><br><span class="line">    res &#x3D; []</span><br><span class="line">    for digit in range(1,n+1):</span><br><span class="line">      for num in range(1,10):</span><br><span class="line">        dfs(1,digit,num)</span><br><span class="line">    </span><br><span class="line">    def dfs(index, digit,num):</span><br><span class="line">      if index &#x3D;&#x3D; digit:</span><br><span class="line">        res.append(str(num))</span><br><span class="line">        return</span><br><span class="line">      for i in range(10):</span><br><span class="line">        num.append(i)</span><br><span class="line">        dfs(index+1,digit,num)</span><br><span class="line">        num.pop()</span><br></pre></td></tr></table></figure>

<p>芜湖</p>

            </div>
          

    
      <footer class="post-footer">
		
		<div class="post-tags">
		  
			<a href="/tags/%E5%89%91%E6%8C%87offer/">剑指offer</a>
		  
		</div>
		

        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2021/08/03/%E5%89%91%E6%8C%87offer18/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">剑指offer18</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
      <a class="next" href="/2021/08/03/%E5%89%91%E6%8C%87offer16/">
        <span class="next-text nav-default">剑指offer16</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

        
  <div class="comments" id="comments">
    
  </div>


      </footer>
    
  </article>

    </div>

      </div>

      <footer id="colophon"><span class="copyright-year">
    
        &copy;
    
        2014 -
    
    2021
    <span class="footer-author">Russshare.</span>
    <span class="power-by">
        Powered by <a class="hexo-link" target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> and <a class="theme-link" target="_blank" rel="noopener" href="https://github.com/frostfan/hexo-theme-polarbear">Polar Bear</a>
    </span>
</span>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>
    


    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  

    <script type="text/javascript" src="/js/src/theme.js?v=1.1"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=1.1"></script>

  </body>
</html>
